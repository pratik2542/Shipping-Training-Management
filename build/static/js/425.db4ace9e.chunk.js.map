{"version":3,"file":"static/js/425.db4ace9e.chunk.js","mappings":"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","sources":["components/Records.js","utils/pdfGenerator.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Container,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Typography,\r\n  TableContainer,\r\n  IconButton,\r\n  TextField,\r\n  InputAdornment,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  Box,\r\n} from '@mui/material';\r\nimport { collection, getDocs, deleteDoc, doc, query, orderBy } from 'firebase/firestore';\r\nimport { db, auth } from '../firebase/config';\r\nimport { testDb, testAuth } from '../firebase/testConfig';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport PictureAsPdfIcon from '@mui/icons-material/PictureAsPdf';\r\nimport { generatePDF } from '../utils/pdfGenerator';\r\nimport HomeIcon from '@mui/icons-material/Home';\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nimport { signOut } from 'firebase/auth';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\n\r\nconst Records = () => {\r\n  const navigate = useNavigate();\r\n  const [records, setRecords] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [viewDialogOpen, setViewDialogOpen] = useState(false);\r\n  const [selectedRecord, setSelectedRecord] = useState(null);\r\n  const [isAdmin] = useState(localStorage.getItem('isAdmin') === 'true');\r\n\r\n  useEffect(() => {\r\n    fetchRecords();\r\n  }, []);\r\n\r\n  const fetchRecords = async () => {\r\n    try {\r\n      const isTestUser = localStorage.getItem('isTestUser') === 'true';\r\n      const dbInstance = isTestUser ? testDb : db;\r\n      const collectionName = isTestUser ? 'test_shipments' : 'shipments';\r\n      \r\n      // Update query to order by numericId in descending order\r\n      const q = query(\r\n        collection(dbInstance, collectionName),\r\n        orderBy('numericId', 'desc')\r\n      );\r\n      \r\n      const querySnapshot = await getDocs(q);\r\n      const recordsData = querySnapshot.docs.map(doc => ({\r\n        ...doc.data(),\r\n        docId: doc.id,\r\n        id: doc.data().id\r\n      }));\r\n      setRecords(recordsData);\r\n    } catch (error) {\r\n      console.error('Error fetching records:', error);\r\n      setRecords([]);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (record) => {\r\n    if (record.approverSign) {\r\n      alert('Cannot edit an approved record');\r\n      return;\r\n    }\r\n    const editId = record.docId;\r\n    console.log('Editing record with ID:', editId);\r\n    if (!editId) {\r\n      alert('Invalid record ID');\r\n      return;\r\n    }\r\n    navigate(`/shipping-form?edit=${editId}`);\r\n  };\r\n\r\n  const handleView = (record) => {\r\n    setSelectedRecord(record);\r\n    setViewDialogOpen(true);\r\n  };\r\n\r\n  const handleViewPDF = (pdfData) => {\r\n    // Check if the data is base64\r\n    if (pdfData.startsWith('data:application/pdf;base64,')) {\r\n      // Convert base64 to blob\r\n      const base64Response = fetch(pdfData);\r\n      base64Response.then(res => res.blob()).then(blob => {\r\n        const url = window.URL.createObjectURL(blob);\r\n        window.open(url, '_blank');\r\n        window.URL.revokeObjectURL(url);\r\n      });\r\n    } else {\r\n      // If it's already a URL, just open it\r\n      window.open(pdfData, '_blank');\r\n    }\r\n  };\r\n\r\n  const handleGeneratePDF = async (record) => {\r\n    try {\r\n      const pdfDoc = await generatePDF(record);\r\n      const pdfBlob = new Blob([pdfDoc], { type: 'application/pdf' });\r\n      const pdfUrl = URL.createObjectURL(pdfBlob);\r\n      \r\n      window.open(pdfUrl, '_blank');\r\n      setTimeout(() => URL.revokeObjectURL(pdfUrl), 1000);\r\n    } catch (error) {\r\n      console.error('Error generating PDF:', error);\r\n      alert('Error generating PDF. Please try again.');\r\n    }\r\n  };\r\n\r\n  const cleanupTestData = async () => {\r\n    try {\r\n      // Get all documents from test_shipments collection\r\n      const querySnapshot = await getDocs(collection(testDb, 'test_shipments'));\r\n      \r\n      // Delete each document\r\n      const deletePromises = querySnapshot.docs.map(doc => deleteDoc(doc.ref));\r\n      await Promise.all(deletePromises);\r\n\r\n      // Delete test user account\r\n      const user = testAuth.currentUser;\r\n      if (user) {\r\n        await user.delete();\r\n      }\r\n      \r\n      console.log('Test data cleanup completed');\r\n    } catch (error) {\r\n      console.error('Error cleaning up test data:', error);\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      const isTestUser = localStorage.getItem('isTestUser') === 'true';\r\n      \r\n      if (isTestUser) {\r\n        // First clean up all test data\r\n        await cleanupTestData();\r\n        // Then sign out\r\n        await signOut(testAuth);\r\n      } else {\r\n        await signOut(auth);\r\n      }\r\n      \r\n      localStorage.removeItem('isTestUser');\r\n      navigate('/');\r\n    } catch (error) {\r\n      console.error('Error during logout:', error);\r\n      // Still try to navigate away even if there's an error\r\n      localStorage.removeItem('isTestUser');\r\n      navigate('/');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (record) => {\r\n    if (!isAdmin) return;\r\n\r\n    if (window.confirm('Are you sure you want to delete this record? This action cannot be undone.')) {\r\n      try {\r\n        const dbInstance = localStorage.getItem('isTestUser') === 'true' ? testDb : db;\r\n        const collectionName = localStorage.getItem('isTestUser') === 'true' ? 'test_shipments' : 'shipments';\r\n        \r\n        await deleteDoc(doc(dbInstance, collectionName, record.docId));\r\n        // Refresh records list\r\n        fetchRecords();\r\n        alert('Record deleted successfully');\r\n        navigate('/dashboard');\r\n      } catch (error) {\r\n        console.error('Error deleting record:', error);\r\n        alert('Error deleting record');\r\n      }\r\n    }\r\n  };\r\n\r\n  const filteredRecords = records.filter(record => {\r\n    const shipmentCode = record.shipmentCode || ''; // Change from dpNumber to shipmentCode\r\n    const itemName = record.itemName || '';\r\n    const searchTermLower = searchTerm.toLowerCase();\r\n    \r\n    return shipmentCode.toString().toLowerCase().includes(searchTermLower) ||\r\n           itemName.toString().toLowerCase().includes(searchTermLower);\r\n  });\r\n\r\n  const renderTableRow = (record) => (\r\n    <TableRow \r\n      key={record.id || record.docId}\r\n      sx={{ '&:hover': { backgroundColor: 'action.hover' } }}\r\n    >\r\n      <TableCell>{record.id}</TableCell>\r\n      <TableCell>{record.shipmentCode || 'N/A'}</TableCell> {/* Change from dpNumber to shipmentCode */}\r\n      <TableCell>{record.shipmentDate || 'N/A'}</TableCell>\r\n      <TableCell>{record.itemName || 'N/A'}</TableCell>\r\n      <TableCell>\r\n        <Typography\r\n          sx={{\r\n            color: record.approverSign ? 'success.main' : \r\n                  record.inspectorSign ? 'info.main' : \r\n                  record.receiverSign ? 'warning.main' : 'gray',\r\n            fontWeight: 500,\r\n          }}\r\n        >\r\n          {record.approverSign ? 'Approved' : \r\n           record.inspectorSign ? 'Pending Approval' : \r\n           record.receiverSign ? 'Pending Inspection' : 'Pending Shipment'}\r\n        </Typography>\r\n      </TableCell>\r\n      <TableCell>\r\n        <IconButton\r\n          color=\"primary\"\r\n          onClick={() => handleEdit(record)}\r\n          disabled={record.approverSign}\r\n          sx={{ mr: 1 }}\r\n        >\r\n          <EditIcon />\r\n        </IconButton>\r\n        <IconButton \r\n          color=\"secondary\"\r\n          onClick={() => handleView(record)}\r\n          sx={{ mr: 1 }}\r\n        >\r\n          <VisibilityIcon />\r\n        </IconButton>\r\n        <IconButton\r\n          color=\"primary\"\r\n          onClick={() => handleGeneratePDF(record)}\r\n          sx={{ mr: 1 }}\r\n        >\r\n          <PictureAsPdfIcon />\r\n        </IconButton>\r\n        {isAdmin && (\r\n          <IconButton\r\n            color=\"error\"\r\n            onClick={() => handleDelete(record)}\r\n            sx={{ mr: 1 }}\r\n            title=\"Delete Record\"\r\n          >\r\n            <DeleteIcon />\r\n          </IconButton>\r\n        )}\r\n      </TableCell>\r\n    </TableRow>\r\n  );\r\n\r\n  const ViewDialog = () => (\r\n    <Dialog open={viewDialogOpen} onClose={() => setViewDialogOpen(false)} maxWidth=\"md\" fullWidth>\r\n      <DialogTitle>\r\n        Shipping Record Details - {selectedRecord?.shipmentCode}\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        {selectedRecord && (\r\n          <Table>\r\n            <TableBody>\r\n              {/* Basic Information */}\r\n              <TableRow>\r\n                <TableCell><strong>ID</strong></TableCell>\r\n                <TableCell>{selectedRecord.id}</TableCell>\r\n              </TableRow>\r\n              <TableRow>\r\n                <TableCell><strong>Shipment Code</strong></TableCell>\r\n                <TableCell>{selectedRecord.shipmentCode}</TableCell>\r\n              </TableRow>\r\n              <TableRow>\r\n                <TableCell><strong>Shipment Date</strong></TableCell>\r\n                <TableCell>{selectedRecord.shipmentDate}</TableCell>\r\n              </TableRow>\r\n\r\n              {/* Item Details */}\r\n              <TableRow>\r\n                <TableCell><strong>Item Number</strong></TableCell>\r\n                <TableCell>{selectedRecord.itemNo}</TableCell>\r\n              </TableRow>\r\n              <TableRow>\r\n                <TableCell><strong>Item Name</strong></TableCell>\r\n                <TableCell>{selectedRecord.itemName}</TableCell>\r\n              </TableRow>\r\n              <TableRow>\r\n                <TableCell><strong>Lot Number</strong></TableCell>\r\n                <TableCell>{selectedRecord.lotNumber}</TableCell>\r\n              </TableRow>\r\n\r\n              {/* Quantity Information */}\r\n              <TableRow>\r\n                <TableCell><strong>Quantities</strong></TableCell>\r\n                <TableCell>{selectedRecord.quantities}</TableCell>\r\n              </TableRow>\r\n              <TableRow>\r\n                <TableCell><strong>Remaining Quantity</strong></TableCell>\r\n                <TableCell>{selectedRecord.remainingQuantity}</TableCell>\r\n              </TableRow>\r\n              <TableRow>\r\n                <TableCell><strong>Unit</strong></TableCell>\r\n                <TableCell>{selectedRecord.unit}</TableCell>\r\n              </TableRow>\r\n\r\n              {/* New Fields */}\r\n              <TableRow>\r\n                <TableCell><strong>Qualified Manufacturer</strong></TableCell>\r\n                <TableCell>{selectedRecord.qualifiedManufacturer}</TableCell>\r\n              </TableRow>\r\n              <TableRow>\r\n                <TableCell><strong>Vendor</strong></TableCell>\r\n                <TableCell>{selectedRecord.vendor}</TableCell>\r\n              </TableRow>\r\n              <TableRow>\r\n                <TableCell><strong>Transportation</strong></TableCell>\r\n                <TableCell>{selectedRecord.transportation}</TableCell>\r\n              </TableRow>\r\n              <TableRow>\r\n                <TableCell><strong>Landing Bill Number</strong></TableCell>\r\n                <TableCell>{selectedRecord.landingBillNumber}</TableCell>\r\n              </TableRow>\r\n              <TableRow>\r\n                <TableCell><strong>Expiry Date</strong></TableCell>\r\n                <TableCell>{selectedRecord.expiryDate}</TableCell>\r\n              </TableRow>\r\n\r\n              {/* Damage Information */}\r\n              <TableRow>\r\n                <TableCell><strong>Damage to Packaging</strong></TableCell>\r\n                <TableCell>{selectedRecord.damageToPackaging ? 'Yes' : 'No'}</TableCell>\r\n              </TableRow>\r\n              <TableRow>\r\n                <TableCell><strong>Damage to Product</strong></TableCell>\r\n                <TableCell>{selectedRecord.damageToProduct ? 'Yes' : 'No'}</TableCell>\r\n              </TableRow>\r\n              {(selectedRecord.damageToPackaging || selectedRecord.damageToProduct) && (\r\n                <TableRow>\r\n                  <TableCell><strong>Damage Notes</strong></TableCell>\r\n                  <TableCell>{selectedRecord.damageNotes}</TableCell>\r\n                </TableRow>\r\n              )}\r\n\r\n              {/* Receiver Details */}\r\n              {selectedRecord.receiverName && (\r\n                <>\r\n                  <TableRow>\r\n                    <TableCell><strong>Receiver Name</strong></TableCell>\r\n                    <TableCell>{selectedRecord.receiverName}</TableCell>\r\n                  </TableRow>\r\n                  <TableRow>\r\n                    <TableCell><strong>Receiver Date</strong></TableCell>\r\n                    <TableCell>{selectedRecord.receiverDate}</TableCell>\r\n                  </TableRow>\r\n                  {selectedRecord.receiverSign && (\r\n                    <TableRow>\r\n                      <TableCell><strong>Receiver Signature</strong></TableCell>\r\n                      <TableCell>\r\n                        <img \r\n                          src={selectedRecord.receiverSign} \r\n                          alt=\"Receiver Signature\" \r\n                          style={{ maxWidth: '200px' }}\r\n                        />\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  )}\r\n                </>\r\n              )}\r\n\r\n              {/* Inspector Details */}\r\n              {selectedRecord.inspectorName && (\r\n                <>\r\n                  <TableRow>\r\n                    <TableCell><strong>Inspector Name</strong></TableCell>\r\n                    <TableCell>{selectedRecord.inspectorName}</TableCell>\r\n                  </TableRow>\r\n                  <TableRow>\r\n                    <TableCell><strong>Inspector Date</strong></TableCell>\r\n                    <TableCell>{selectedRecord.inspectorDate}</TableCell>\r\n                  </TableRow>\r\n                  {selectedRecord.inspectorSign && (\r\n                    <TableRow>\r\n                      <TableCell><strong>Inspector Signature</strong></TableCell>\r\n                      <TableCell>\r\n                        <img \r\n                          src={selectedRecord.inspectorSign} \r\n                          alt=\"Inspector Signature\" \r\n                          style={{ maxWidth: '200px' }}\r\n                        />\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  )}\r\n                </>\r\n              )}\r\n\r\n              {/* Approver Details */}\r\n              {selectedRecord.approverName && (\r\n                <>\r\n                  <TableRow>\r\n                    <TableCell><strong>Approver Name</strong></TableCell>\r\n                    <TableCell>{selectedRecord.approverName}</TableCell>\r\n                  </TableRow>\r\n                  <TableRow>\r\n                    <TableCell><strong>Approver Date</strong></TableCell>\r\n                    <TableCell>{selectedRecord.approverDate}</TableCell>\r\n                  </TableRow>\r\n                  {selectedRecord.approverSign && (\r\n                    <TableRow>\r\n                      <TableCell><strong>Approver Signature</strong></TableCell>\r\n                      <TableCell>\r\n                        <img \r\n                          src={selectedRecord.approverSign} \r\n                          alt=\"Approver Signature\" \r\n                          style={{ maxWidth: '200px' }}\r\n                        />\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  )}\r\n                </>\r\n              )}\r\n\r\n              {/* Attachment */}\r\n              {selectedRecord.attachmentUrl && (\r\n                <TableRow>\r\n                  <TableCell><strong>Attachment</strong></TableCell>\r\n                  <TableCell>\r\n                    <Button\r\n                      variant=\"outlined\"\r\n                      size=\"small\"\r\n                      onClick={() => handleViewPDF(selectedRecord.attachmentUrl)}\r\n                    >\r\n                      View PDF\r\n                    </Button>\r\n                  </TableCell>\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        )}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={() => setViewDialogOpen(false)}>Close</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 4 }}>\r\n        <Typography \r\n          variant=\"h4\" \r\n          sx={{ fontWeight: 600, color: 'primary.main', mt: 2  }}\r\n        >\r\n          Shipping Records\r\n        </Typography>\r\n        <Box>\r\n          <Button\r\n            variant=\"contained\"\r\n            startIcon={<HomeIcon />}\r\n            onClick={() => navigate('/dashboard')}\r\n            sx={{ mr: 2, mt: 2  }}\r\n          >\r\n            Home\r\n          </Button>\r\n          <Button\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            startIcon={<LogoutIcon />}\r\n            onClick={handleLogout}\r\n            sx={{ mt: 2 }}\r\n          >\r\n            Logout\r\n          </Button>\r\n        </Box>\r\n      </Box>\r\n      \r\n      <TextField\r\n        fullWidth\r\n        variant=\"outlined\"\r\n        placeholder=\"Search by Shipment Code or Item Name\"  /* Update placeholder */\r\n        value={searchTerm}\r\n        onChange={(e) => setSearchTerm(e.target.value)}\r\n        sx={{ mb: 3 }}\r\n        InputProps={{\r\n          startAdornment: (\r\n            <InputAdornment position=\"start\">\r\n              <SearchIcon />\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n\r\n      <TableContainer component={Paper}>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow sx={{ backgroundColor: 'primary.main' }}>\r\n              <TableCell sx={{ color: 'white', fontWeight: 600 }}>ID</TableCell>\r\n              <TableCell sx={{ color: 'white', fontWeight: 600 }}>Shipment Code</TableCell>  {/* Update header */}\r\n              <TableCell sx={{ color: 'white', fontWeight: 600 }}>Shipment Date</TableCell>\r\n              <TableCell sx={{ color: 'white', fontWeight: 600 }}>Item Name</TableCell>\r\n              <TableCell sx={{ color: 'white', fontWeight: 600 }}>Status</TableCell>\r\n              <TableCell sx={{ color: 'white', fontWeight: 600 }}>Actions</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {filteredRecords.map(record => renderTableRow(record))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n\r\n      <ViewDialog />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Records;","import jsPDF from 'jspdf';\r\n\r\nexport const generatePDF = async (data) => {\r\n  const doc = new jsPDF();\r\n  \r\n  // Helper function to add text with proper spacing\r\n  const addText = (text, y) => {\r\n    doc.text(20, y, text);\r\n    return y + 10; // Return next y position\r\n  };\r\n\r\n  // Add function to handle signature images\r\n  const addSignature = async (signature, y) => {\r\n    if (signature) {\r\n      try {\r\n        // Calculate dimensions to maintain aspect ratio\r\n        const maxWidth = 100; // Max width for signature\r\n        const imgData = signature;\r\n        \r\n        // Add signature image\r\n        doc.addImage(imgData, 'PNG', 20, y, maxWidth, 30);\r\n        return y + 35; // Return next y position after signature\r\n      } catch (error) {\r\n        console.error('Error adding signature:', error);\r\n        return y + 10;\r\n      }\r\n    }\r\n    return y + 10;\r\n  };\r\n\r\n  let y = 20; // Starting y position\r\n\r\n  // Basic Information\r\n  doc.setFontSize(16);\r\n  doc.setFont(undefined, 'bold');\r\n  y = addText('Shipping Record Details', y);\r\n  y += 5;\r\n\r\n  doc.setFontSize(12);\r\n  doc.setFont(undefined, 'normal');\r\n  \r\n  // ID and Codes\r\n  y = addText(`ID: ${data.id || 'N/A'}`, y);\r\n  y = addText(`Shipment Code: ${data.shipmentCode || 'N/A'}`, y);\r\n  y = addText(`Shipment Date: ${data.shipmentDate || 'N/A'}`, y);\r\n\r\n  // Item Details\r\n  y += 5;\r\n  doc.setFont(undefined, 'bold');\r\n  y = addText('Item Details', y);\r\n  doc.setFont(undefined, 'normal');\r\n  y = addText(`Item Number: ${data.itemNo || 'N/A'}`, y);\r\n  y = addText(`Item Name: ${data.itemName || 'N/A'}`, y);\r\n  y = addText(`Lot Number: ${data.lotNumber || 'N/A'}`, y);\r\n\r\n  // Quantity Information\r\n  y += 5;\r\n  doc.setFont(undefined, 'bold');\r\n  y = addText('Quantity Information', y);\r\n  doc.setFont(undefined, 'normal');\r\n  y = addText(`Quantities: ${data.quantities || 'N/A'}`, y);\r\n  y = addText(`Remaining Quantity: ${data.remainingQuantity || 'N/A'}`, y);\r\n  y = addText(`Unit: ${data.unit || 'N/A'}`, y);\r\n\r\n  // New Fields\r\n  y += 5;\r\n  doc.setFont(undefined, 'bold');\r\n  y = addText('Additional Details', y);\r\n  doc.setFont(undefined, 'normal');\r\n  y = addText(`Qualified Manufacturer: ${data.qualifiedManufacturer || 'N/A'}`, y);\r\n  y = addText(`Vendor: ${data.vendor || 'N/A'}`, y);\r\n  y = addText(`Transportation: ${data.transportation || 'N/A'}`, y);\r\n  y = addText(`Landing Bill Number: ${data.landingBillNumber || 'N/A'}`, y);\r\n  y = addText(`Expiry Date: ${data.expiryDate || 'N/A'}`, y);\r\n\r\n  // Damage Information\r\n  if (data.damageToPackaging || data.damageToProduct) {\r\n    y += 5;\r\n    doc.setFont(undefined, 'bold');\r\n    y = addText('Damage Information', y);\r\n    doc.setFont(undefined, 'normal');\r\n    y = addText(`Damage to Packaging: ${data.damageToPackaging ? 'Yes' : 'No'}`, y);\r\n    y = addText(`Damage to Product: ${data.damageToProduct ? 'Yes' : 'No'}`, y);\r\n    if (data.damageNotes) {\r\n      y = addText(`Damage Notes: ${data.damageNotes}`, y);\r\n    }\r\n  }\r\n\r\n  // Add new page for signatures if needed\r\n  if (y > 250) {\r\n    doc.addPage();\r\n    y = 20;\r\n  }\r\n\r\n  // Signatures Section\r\n  y += 5;\r\n  doc.setFont(undefined, 'bold');\r\n  y = addText('Signatures', y);\r\n  doc.setFont(undefined, 'normal');\r\n\r\n  // Receiver\r\n  if (data.receiverName) {\r\n    y = addText('Receiver:', y);\r\n    y = addText(`Name: ${data.receiverName}`, y);\r\n    y = addText(`Date: ${data.receiverDate || 'N/A'}`, y);\r\n    if (data.receiverSign) {\r\n      y = await addSignature(data.receiverSign, y);\r\n    }\r\n    y += 5;\r\n  }\r\n\r\n  // Add new page if needed\r\n  if (y > 250) {\r\n    doc.addPage();\r\n    y = 20;\r\n  }\r\n\r\n  // Inspector\r\n  if (data.inspectorName) {\r\n    y = addText('Inspector:', y);\r\n    y = addText(`Name: ${data.inspectorName}`, y);\r\n    y = addText(`Date: ${data.inspectorDate || 'N/A'}`, y);\r\n    if (data.inspectorSign) {\r\n      y = await addSignature(data.inspectorSign, y);\r\n    }\r\n    y += 5;\r\n  }\r\n\r\n  // Add new page if needed\r\n  if (y > 250) {\r\n    doc.addPage();\r\n    y = 20;\r\n  }\r\n\r\n  // Approver\r\n  if (data.approverName) {\r\n    y = addText('Approver:', y);\r\n    y = addText(`Name: ${data.approverName}`, y);\r\n    y = addText(`Date: ${data.approverDate || 'N/A'}`, y);\r\n    if (data.approverSign) {\r\n      y = await addSignature(data.approverSign, y);\r\n    }\r\n  }\r\n\r\n  return doc.output('blob');\r\n};"],"names":["Records","navigate","useNavigate","records","setRecords","useState","searchTerm","setSearchTerm","viewDialogOpen","setViewDialogOpen","selectedRecord","setSelectedRecord","isAdmin","localStorage","getItem","useEffect","fetchRecords","async","isTestUser","dbInstance","testDb","db","collectionName","q","query","collection","orderBy","recordsData","getDocs","docs","map","doc","data","docId","id","error","console","handleGeneratePDF","pdfDoc","jsPDF","addText","text","y","addSignature","signature","maxWidth","imgData","addImage","setFontSize","setFont","undefined","shipmentCode","shipmentDate","itemNo","itemName","lotNumber","quantities","remainingQuantity","unit","qualifiedManufacturer","vendor","transportation","landingBillNumber","expiryDate","damageToPackaging","damageToProduct","damageNotes","addPage","receiverName","receiverDate","receiverSign","inspectorName","inspectorDate","inspectorSign","approverName","approverDate","approverSign","output","generatePDF","record","pdfBlob","Blob","type","pdfUrl","URL","createObjectURL","window","open","setTimeout","revokeObjectURL","alert","filteredRecords","filter","searchTermLower","toLowerCase","toString","includes","renderTableRow","_jsxs","TableRow","sx","backgroundColor","children","_jsx","TableCell","Typography","color","fontWeight","IconButton","onClick","editId","log","handleEdit","disabled","mr","EditIcon","handleView","VisibilityIcon","PictureAsPdfIcon","confirm","deleteDoc","handleDelete","title","DeleteIcon","ViewDialog","Dialog","onClose","fullWidth","DialogTitle","DialogContent","Table","TableBody","_Fragment","src","alt","style","attachmentUrl","Button","variant","size","pdfData","startsWith","fetch","then","res","blob","url","DialogActions","Container","mt","mb","Box","display","justifyContent","alignItems","startIcon","HomeIcon","LogoutIcon","deletePromises","ref","Promise","all","user","testAuth","currentUser","delete","cleanupTestData","signOut","auth","removeItem","TextField","placeholder","value","onChange","e","target","InputProps","startAdornment","InputAdornment","position","SearchIcon","TableContainer","component","Paper","TableHead"],"sourceRoot":""}