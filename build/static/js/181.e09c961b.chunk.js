"use strict";(self.webpackChunkddrops=self.webpackChunkddrops||[]).push([[181],{2181:(e,s,r)=>{r.r(s),r.d(s,{default:()=>f});var t=r(5043),a=r(7872),o=r(3336),n=r(5865),l=r(7424),i=r(1906),d=r(8797),c=r(6822),u=r(3216),h=r(579);const f=()=>{const[e,s]=(0,t.useState)(""),[r,f]=(0,t.useState)(""),[w,x]=(0,t.useState)(""),[m,p]=(0,t.useState)(""),[b,g]=(0,t.useState)(""),[j,v]=(0,t.useState)(!1),P=(0,u.Zp)();(0,t.useEffect)((()=>{const e=new URLSearchParams(window.location.search).get("oobCode");if(e)v(!0),g(e),(0,d.RE)(c.j,e).then((e=>{p(e),x("")})).catch((e=>{console.error("Error verifying reset code:",e),x("Invalid or expired reset link")}));else{const e=c.j.currentUser;e?p(e.email):x("No user found. Please login again.")}}),[]);return(0,h.jsx)(a.A,{maxWidth:"sm",children:(0,h.jsxs)(o.A,{elevation:3,sx:{p:4,mt:8},children:[(0,h.jsx)(n.A,{variant:"h5",sx:{mb:3},children:"Reset Your Password"}),m&&(0,h.jsxs)(n.A,{sx:{mb:2},children:["Resetting password for: ",m]}),(0,h.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),e===r)try{if(j){if(!b)throw new Error("Invalid reset link");await(0,d.R4)(c.j,b,e)}else{const s=c.j.currentUser;if(!s)throw new Error("No user found. Please login again.");await(0,d.f3)(s,e)}alert("Password has been set successfully!"),P("/")}catch(w){console.error("Error setting password:",w),x(w.message)}else x("Passwords do not match")},children:[(0,h.jsx)(l.A,{fullWidth:!0,type:"password",label:"New Password",value:e,onChange:e=>s(e.target.value),sx:{mb:2}}),(0,h.jsx)(l.A,{fullWidth:!0,type:"password",label:"Confirm Password",value:r,onChange:e=>f(e.target.value),sx:{mb:3}}),w&&(0,h.jsx)(n.A,{color:"error",sx:{mb:2},children:w}),(0,h.jsx)(i.A,{type:"submit",variant:"contained",fullWidth:!0,disabled:!m||!b&&j,children:"Reset Password"})]})]})})}}}]);
//# sourceMappingURL=181.e09c961b.chunk.js.map