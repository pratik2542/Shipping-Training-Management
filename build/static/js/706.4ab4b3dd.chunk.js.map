{"version":3,"file":"static/js/706.4ab4b3dd.chunk.js","mappings":"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","sources":["components/Login.js","config/api.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Paper, Avatar, Box, TextField, Button, Typography, Container } from '@mui/material';\r\nimport { signInWithEmailAndPassword } from 'firebase/auth';\r\nimport { auth } from '../firebase/config';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\r\nimport { testAuth } from '../firebase/testConfig';\r\nimport { collection, addDoc, query, where, getDocs } from 'firebase/firestore';\r\nimport { db } from '../firebase/config';\r\nimport HelpIcon from '@mui/icons-material/Help';\r\nimport { Tooltip, IconButton } from '@mui/material';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport { getApiUrl } from '../config/api';\r\n\r\nconst ADMIN_EMAILS = ['pratikmak2542@gmail.com']; // Add your admin emails here\r\n\r\nconst Login = () => {\r\n  // Add this console log to verify which API URL is being used\r\n  console.log('API URL:', process.env.REACT_APP_API_URL);\r\n\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [showTestSignup, setShowTestSignup] = useState(false);\r\n  const [showRegister, setShowRegister] = useState(false);\r\n  const [isTestUser, setIsTestUser] = useState(false);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const sendAdminNotification = async (userData) => {\r\n    try {\r\n      console.log('Sending notification with data:', userData);\r\n      const response = await fetch(getApiUrl('/notify-admin'), {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(userData)\r\n      });\r\n\r\n      const data = await response.json();\r\n      console.log('Server response:', data);\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to send notification');\r\n      }\r\n\r\n      return data;\r\n    } catch (error) {\r\n      console.error('Notification error:', error);\r\n      throw new Error('Failed to send registration notification. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    if (isSubmitting) return; // Prevent multiple submissions\r\n\r\n    setIsSubmitting(true); // Start loading\r\n    try {\r\n      // Check if user already has a pending request\r\n      const existingRequestQuery = query(\r\n        collection(db, 'userRequests'),\r\n        where('email', '==', email),\r\n        where('status', '==', 'pending')\r\n      );\r\n      \r\n      const existingRequestDocs = await getDocs(existingRequestQuery);\r\n      if (!existingRequestDocs.empty) {\r\n        alert('You already have a pending registration request.');\r\n        setIsSubmitting(false);\r\n        return;\r\n      }\r\n\r\n      const userRequest = {\r\n        name,\r\n        email,\r\n        status: 'pending',\r\n        createdAt: new Date().toISOString(),\r\n        isTestUser: false\r\n      };\r\n\r\n      // Try to send notification first\r\n      await sendAdminNotification(userRequest);\r\n      \r\n      // Only add to Firebase if notification succeeds\r\n      await addDoc(collection(db, 'userRequests'), userRequest);\r\n\r\n      alert('Registration request submitted successfully.');\r\n      navigate('/pending-status', { state: { email } });\r\n      \r\n    } catch (error) {\r\n      console.error('Registration failed:', error);\r\n      setError(`Registration failed: ${error.message}`);\r\n      alert('Failed to submit registration. Please try again.');\r\n    } finally {\r\n      setIsSubmitting(false); // End loading\r\n    }\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      // Sign in user\r\n      await signInWithEmailAndPassword(auth, email, password);\r\n      \r\n      // If using temporary password, redirect to reset\r\n      if (password === 'tempPassword123') {\r\n        navigate('/reset-password', { state: { fromTempPassword: true } });\r\n        return;\r\n      }\r\n\r\n      // Check if user is admin\r\n      if (ADMIN_EMAILS.includes(email)) {\r\n        // Check for pending requests\r\n        const pendingQuery = query(\r\n          collection(db, 'userRequests'),\r\n          where('status', '==', 'pending')\r\n        );\r\n        const pendingSnapshot = await getDocs(pendingQuery);\r\n        \r\n        localStorage.setItem('isAdmin', 'true');\r\n        \r\n        // Only redirect to verify page if there are pending requests\r\n        if (pendingSnapshot.size > 0) {\r\n          navigate('/admin/verify');\r\n        } else {\r\n          navigate('/dashboard');\r\n        }\r\n        return;\r\n      }\r\n\r\n      // For test users, use test auth and mark them as test users\r\n      if (isTestUser) {\r\n        await signInWithEmailAndPassword(testAuth, email, password);\r\n        localStorage.setItem('isTestUser', 'true');\r\n      } else {\r\n        // Sign in and get user credentials\r\n        await signInWithEmailAndPassword(auth, email, password);\r\n        \r\n        // Check if user is approved\r\n        const userQuery = query(\r\n          collection(db, 'userRequests'),\r\n          where('email', '==', email),\r\n          where('status', '==', 'pending')\r\n        );\r\n        const userSnapshot = await getDocs(userQuery);\r\n        \r\n        if (!userSnapshot.empty) {\r\n          await auth.signOut(); // Sign out if not approved\r\n          setError('Your account is pending approval. Please wait for admin verification.');\r\n          return;\r\n        }\r\n\r\n        localStorage.removeItem('isAdmin');\r\n        localStorage.removeItem('isTestUser');\r\n        navigate('/dashboard');\r\n      }\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  const handleTestSignup = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      // Always create test users with testAuth and mark them as test users\r\n      await createUserWithEmailAndPassword(testAuth, email, password);\r\n      localStorage.setItem('isTestUser', 'true');\r\n      navigate('/dashboard');\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <Paper\r\n        elevation={3}\r\n        sx={{\r\n          marginTop: 8,\r\n          padding: 4,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        <Avatar sx={{ m: 1, bgcolor: 'primary.main' }}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\" sx={{ mb: 3 }}>\r\n          {showRegister ? 'Register' : showTestSignup ? 'Create Test Account' : 'Sign in'}\r\n        </Typography>\r\n        {error && (\r\n          <Typography color=\"error\" sx={{ mb: 2 }}>\r\n            {error}\r\n          </Typography>\r\n        )}\r\n        <Box component=\"form\" onSubmit={showRegister ? handleRegister : showTestSignup ? handleTestSignup : handleLogin} sx={{ mt: 1 }}>\r\n          {showRegister ? (\r\n            <>\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                label=\"Full Name\"\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n                sx={{ mb: 2 }}\r\n              />\r\n              <Box sx={{ position: 'relative' }}>\r\n                <TextField\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  label=\"Email Address\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  sx={{ mb: 3 }}\r\n                />\r\n                <Tooltip \r\n                  title=\"After your registration is approved, you'll receive an email with a temporary password to log in.\"\r\n                  arrow\r\n                  placement=\"top\"\r\n                >\r\n                  <IconButton \r\n                    sx={{ \r\n                      position: 'absolute', \r\n                      right: -40, \r\n                      top: '50%', \r\n                      transform: 'translateY(-50%)'\r\n                    }}\r\n                  >\r\n                    <HelpIcon color=\"primary\" fontSize=\"small\" />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              </Box>\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                sx={{ mt: 3, mb: 2 }}\r\n                disabled={isSubmitting}\r\n              >\r\n                {isSubmitting ? (\r\n                  <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                    <CircularProgress size={24} sx={{ mr: 1 }} />\r\n                    Registering...\r\n                  </Box>\r\n                ) : (\r\n                  'Register'\r\n                )}\r\n              </Button>\r\n              <Button\r\n                fullWidth\r\n                variant=\"outlined\"\r\n                onClick={() => {\r\n                  setShowRegister(false);\r\n                  setName('');\r\n                }}\r\n                sx={{ mt: 1 }}\r\n              >\r\n                Back to Login\r\n              </Button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                label=\"Email Address\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                sx={{ mb: 2 }}\r\n              />\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                sx={{ mb: 3 }}\r\n              />\r\n              {!showTestSignup && !showRegister ? (\r\n                <>\r\n                  <Button\r\n                    type=\"submit\"\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    size=\"large\"\r\n                    sx={{ \r\n                      py: 1.5,\r\n                      fontSize: '1.1rem',\r\n                      '&:hover': {\r\n                        transform: 'translateY(-2px)',\r\n                        transition: 'transform 0.2s',\r\n                      }\r\n                    }}\r\n                  >\r\n                    Sign In\r\n                  </Button>\r\n                  <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 1, mb: 2 }}>\r\n                    <Button\r\n                      color=\"primary\"\r\n                      onClick={() => navigate('/check-status')}\r\n                      sx={{ textTransform: 'none' }}\r\n                    >\r\n                      Check Registration Status\r\n                    </Button>\r\n                    <Button\r\n                      color=\"primary\"\r\n                      onClick={() => navigate('/forgot-password')}\r\n                      sx={{ textTransform: 'none' }}\r\n                    >\r\n                      Forgot password?\r\n                    </Button>\r\n                  </Box>\r\n                  <Button\r\n                    fullWidth\r\n                    variant=\"outlined\"\r\n                    onClick={() => setShowRegister(true)}\r\n                    sx={{ mt: 1 }}\r\n                  >\r\n                    Create Account\r\n                  </Button>\r\n                  <Button\r\n                    fullWidth\r\n                    variant=\"outlined\"\r\n                    onClick={() => {\r\n                      setShowTestSignup(true);\r\n                      setIsTestUser(true);\r\n                    }}\r\n                    sx={{ mt: 1 }}\r\n                  >\r\n                    Create Test Account\r\n                  </Button>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Button\r\n                    type=\"submit\"\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    color=\"warning\"\r\n                    sx={{ mt: 3, mb: 2 }}\r\n                  >\r\n                    Create Test Account\r\n                  </Button>\r\n                  <Button\r\n                    fullWidth\r\n                    variant=\"outlined\"\r\n                    onClick={() => {\r\n                      setShowTestSignup(false);\r\n                      setIsTestUser(false);\r\n                    }}\r\n                    sx={{ mt: 1 }}\r\n                  >\r\n                    Back to Login\r\n                  </Button>\r\n                </>\r\n              )}\r\n            </>\r\n          )}\r\n        </Box>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Login;","const API_URL = process.env.NODE_ENV === 'production' \r\n  ? 'https://shipping-management.vercel.app/api'  // Production\r\n  : 'http://localhost:5000/api';  // Local server port\r\n\r\nexport const getApiUrl = (endpoint) => {\r\n  const url = `${API_URL}${endpoint}`;\r\n  console.log('Testing API endpoint:', url); // Debug log\r\n  return url;\r\n};\r\n"],"names":["ADMIN_EMAILS","Login","console","log","process","REACT_APP_API_URL","email","setEmail","useState","password","setPassword","name","setName","error","setError","showTestSignup","setShowTestSignup","showRegister","setShowRegister","isTestUser","setIsTestUser","isSubmitting","setIsSubmitting","navigate","useNavigate","sendAdminNotification","async","userData","response","fetch","endpoint","url","getApiUrl","method","headers","body","JSON","stringify","data","json","ok","Error","_jsx","Container","component","maxWidth","children","_jsxs","Paper","elevation","sx","marginTop","padding","display","flexDirection","alignItems","Avatar","m","bgcolor","LockOutlinedIcon","Typography","variant","mb","color","Box","onSubmit","e","preventDefault","existingRequestQuery","query","collection","db","where","getDocs","empty","alert","userRequest","status","createdAt","Date","toISOString","addDoc","state","message","createUserWithEmailAndPassword","testAuth","localStorage","setItem","signInWithEmailAndPassword","auth","fromTempPassword","includes","pendingQuery","pendingSnapshot","size","userQuery","signOut","removeItem","mt","_Fragment","TextField","margin","required","fullWidth","label","value","onChange","target","position","Tooltip","title","arrow","placement","IconButton","right","top","transform","HelpIcon","fontSize","Button","type","disabled","CircularProgress","mr","onClick","py","transition","justifyContent","textTransform"],"sourceRoot":""}