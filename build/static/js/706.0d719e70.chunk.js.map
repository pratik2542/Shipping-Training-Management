{"version":3,"file":"static/js/706.0d719e70.chunk.js","mappings":"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","sources":["components/Login.js","config/api.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Paper, Avatar, Box, TextField, Button, Typography, Container, Divider } from '@mui/material';\r\nimport { signInWithEmailAndPassword } from 'firebase/auth';\r\nimport { auth } from '../firebase/config';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport LockOutlinedIcon from '@mui/icons-material/LockOutlined';\r\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\r\nimport { testAuth } from '../firebase/testConfig';\r\nimport { collection, addDoc, query, where, getDocs } from 'firebase/firestore';\r\nimport { db } from '../firebase/config';\r\nimport HelpIcon from '@mui/icons-material/Help';\r\nimport { Tooltip, IconButton } from '@mui/material';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport { getApiUrl } from '../config/api';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport LockResetIcon from '@mui/icons-material/LockReset';\r\n\r\nconst ADMIN_EMAILS = ['pratikmak2542@gmail.com']; // Add your admin emails here\r\n\r\nconst Login = () => {\r\n  // Add this console log to verify which API URL is being used\r\n  console.log('API URL:', process.env.REACT_APP_API_URL);\r\n\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [showTestSignup, setShowTestSignup] = useState(false);\r\n  const [showRegister, setShowRegister] = useState(false);\r\n  const [isTestUser, setIsTestUser] = useState(false);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const buttonStyles = {\r\n    py: 1.5,\r\n    fontSize: '1rem',\r\n    fontWeight: 500,\r\n    height: '48px',\r\n    textTransform: 'none', // Prevents all-caps\r\n    letterSpacing: '0.3px',\r\n    '&:hover': {\r\n      transform: 'translateY(-2px)',\r\n      transition: 'transform 0.2s',\r\n    }\r\n  };\r\n\r\n  const outlinedButtonStyles = {\r\n    ...buttonStyles,\r\n    borderColor: 'primary.main',\r\n    '&:hover': {\r\n      ...buttonStyles['&:hover'],\r\n      borderColor: 'primary.dark',\r\n      backgroundColor: 'rgba(25, 118, 210, 0.04)'\r\n    }\r\n  };\r\n\r\n  const utilityButtonStyles = {\r\n    ...buttonStyles,\r\n    height: '42px',\r\n    backgroundColor: 'white',\r\n    color: 'primary.main',\r\n    border: '1px solid',\r\n    borderColor: 'primary.light',\r\n    fontWeight: 400,\r\n    fontSize: '0.9rem',\r\n    boxShadow: '0 2px 4px rgba(0,0,0,0.05)',\r\n    '& .MuiButton-startIcon': {\r\n      marginRight: 1\r\n    },\r\n    '&:hover': {\r\n      backgroundColor: 'primary.main',\r\n      color: 'white',\r\n      boxShadow: '0 4px 8px rgba(0,0,0,0.1)',\r\n      transform: 'translateY(-2px)',\r\n      transition: 'all 0.2s ease-in-out'\r\n    }\r\n  };\r\n\r\n  const sendAdminNotification = async (userData) => {\r\n    console.log('Sending notification data:', userData);\r\n    \r\n    try {\r\n      const response = await fetch(getApiUrl('notify-admin'), {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          name: userData.name,\r\n          email: userData.email\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Failed to send notification');\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log('Server response:', data);\r\n      return data;\r\n    } catch (error) {\r\n      console.error('Notification error:', error);\r\n      throw new Error('Failed to send registration notification. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    if (isSubmitting) return; // Prevent multiple submissions\r\n\r\n    setIsSubmitting(true); // Start loading\r\n    try {\r\n      // Check if user already has a pending request\r\n      const existingRequestQuery = query(\r\n        collection(db, 'userRequests'),\r\n        where('email', '==', email),\r\n        where('status', '==', 'pending')\r\n      );\r\n      \r\n      const existingRequestDocs = await getDocs(existingRequestQuery);\r\n      if (!existingRequestDocs.empty) {\r\n        alert('You already have a pending registration request.');\r\n        setIsSubmitting(false);\r\n        return;\r\n      }\r\n\r\n      const userRequest = {\r\n        name,\r\n        email,\r\n        status: 'pending',\r\n        createdAt: new Date().toISOString(),\r\n        isTestUser: false\r\n      };\r\n\r\n      // Try to send notification first\r\n      await sendAdminNotification(userRequest);\r\n      \r\n      // Only add to Firebase if notification succeeds\r\n      await addDoc(collection(db, 'userRequests'), userRequest);\r\n\r\n      alert('Registration request submitted successfully.');\r\n      navigate('/pending-status', { state: { email } });\r\n      \r\n    } catch (error) {\r\n      console.error('Registration failed:', error);\r\n      setError(`Registration failed: ${error.message}`);\r\n      alert('Failed to submit registration. Please try again.');\r\n    } finally {\r\n      setIsSubmitting(false); // End loading\r\n    }\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      // Sign in user\r\n      await signInWithEmailAndPassword(auth, email, password);\r\n      \r\n      // If using temporary password, redirect to reset\r\n      if (password === 'tempPassword123') {\r\n        navigate('/reset-password', { state: { fromTempPassword: true } });\r\n        return;\r\n      }\r\n\r\n      // Check if user is admin\r\n      if (ADMIN_EMAILS.includes(email)) {\r\n        // Check for pending requests\r\n        const pendingQuery = query(\r\n          collection(db, 'userRequests'),\r\n          where('status', '==', 'pending')\r\n        );\r\n        const pendingSnapshot = await getDocs(pendingQuery);\r\n        \r\n        localStorage.setItem('isAdmin', 'true');\r\n        \r\n        // Only redirect to verify page if there are pending requests\r\n        if (pendingSnapshot.size > 0) {\r\n          navigate('/admin/verify');\r\n        } else {\r\n          navigate('/dashboard');\r\n        }\r\n        return;\r\n      }\r\n\r\n      // For test users, use test auth and mark them as test users\r\n      if (isTestUser) {\r\n        await signInWithEmailAndPassword(testAuth, email, password);\r\n        localStorage.setItem('isTestUser', 'true');\r\n      } else {\r\n        // Sign in and get user credentials\r\n        await signInWithEmailAndPassword(auth, email, password);\r\n        \r\n        // Check if user is approved\r\n        const userQuery = query(\r\n          collection(db, 'userRequests'),\r\n          where('email', '==', email),\r\n          where('status', '==', 'pending')\r\n        );\r\n        const userSnapshot = await getDocs(userQuery);\r\n        \r\n        if (!userSnapshot.empty) {\r\n          await auth.signOut(); // Sign out if not approved\r\n          setError('Your account is pending approval. Please wait for admin verification.');\r\n          return;\r\n        }\r\n\r\n        localStorage.removeItem('isAdmin');\r\n        localStorage.removeItem('isTestUser');\r\n        navigate('/dashboard');\r\n      }\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  const handleTestSignup = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      // Always create test users with testAuth and mark them as test users\r\n      await createUserWithEmailAndPassword(testAuth, email, password);\r\n      localStorage.setItem('isTestUser', 'true');\r\n      navigate('/dashboard');\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <Paper\r\n        elevation={3}\r\n        sx={{\r\n          marginTop: 8,\r\n          padding: 4,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        <Avatar sx={{ m: 1, bgcolor: 'primary.main' }}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\" sx={{ mb: 3 }}>\r\n          {showRegister ? 'Register' : showTestSignup ? 'Create Test Account' : 'Sign in'}\r\n        </Typography>\r\n        {error && (\r\n          <Typography color=\"error\" sx={{ mb: 2 }}>\r\n            {error}\r\n          </Typography>\r\n        )}\r\n        <Box component=\"form\" onSubmit={showRegister ? handleRegister : showTestSignup ? handleTestSignup : handleLogin} sx={{ mt: 1 }}>\r\n          {showRegister ? (\r\n            <>\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                label=\"Full Name\"\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n                sx={{ mb: 2 }}\r\n              />\r\n              <Box sx={{ position: 'relative' }}>\r\n                <TextField\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  label=\"Email Address\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  sx={{ mb: 3 }}\r\n                />\r\n                <Tooltip \r\n                  title=\"After your registration is approved, you'll receive an email with a temporary password to log in.\"\r\n                  arrow\r\n                  placement=\"top\"\r\n                >\r\n                  <IconButton \r\n                    sx={{ \r\n                      position: 'absolute', \r\n                      right: -40, \r\n                      top: '50%', \r\n                      transform: 'translateY(-50%)'\r\n                    }}\r\n                  >\r\n                    <HelpIcon color=\"primary\" fontSize=\"small\" />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              </Box>\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                sx={{ ...buttonStyles, mt: 3, mb: 2 }}\r\n                disabled={isSubmitting}\r\n              >\r\n                {isSubmitting ? (\r\n                  <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                    <CircularProgress size={24} sx={{ mr: 1 }} />\r\n                    Registering...\r\n                  </Box>\r\n                ) : (\r\n                  'Register'\r\n                )}\r\n              </Button>\r\n              <Button\r\n                fullWidth\r\n                variant=\"outlined\"\r\n                onClick={() => {\r\n                  setShowRegister(false);\r\n                  setName('');\r\n                }}\r\n                sx={{ ...outlinedButtonStyles, mt: 1 }}\r\n              >\r\n                Back to Login\r\n              </Button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                label=\"Email Address\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                sx={{ mb: 2 }}\r\n              />\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                sx={{ mb: 3 }}\r\n              />\r\n              {!showTestSignup && !showRegister ? (\r\n                <>\r\n                  <Button\r\n                    type=\"submit\"\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    sx={buttonStyles}\r\n                  >\r\n                    Sign In\r\n                  </Button>\r\n                  \r\n                  {/* Updated utility buttons container */}\r\n                  <Box sx={{ \r\n                    display: 'flex', \r\n                    gap: 2,\r\n                    mt: 3, \r\n                    mb: 3,\r\n                    width: '100%'\r\n                  }}>\r\n                    <Button\r\n                      fullWidth\r\n                      onClick={() => navigate('/check-status')}\r\n                      sx={utilityButtonStyles}\r\n                      startIcon={<SearchIcon sx={{ fontSize: 20 }} />}\r\n                    >\r\n                      Check Status\r\n                    </Button>\r\n                    <Button\r\n                      fullWidth\r\n                      onClick={() => navigate('/forgot-password')}\r\n                      sx={utilityButtonStyles}\r\n                      startIcon={<LockResetIcon sx={{ fontSize: 20 }} />}\r\n                    >\r\n                      Reset Password\r\n                    </Button>\r\n                  </Box>\r\n\r\n                  <Divider sx={{ my: 2 }}>\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                      or\r\n                    </Typography>\r\n                  </Divider>\r\n\r\n                  <Button\r\n                    fullWidth\r\n                    variant=\"outlined\"\r\n                    onClick={() => setShowRegister(true)}\r\n                    sx={{ ...outlinedButtonStyles, mb: 1 }}\r\n                  >\r\n                    Create Account\r\n                  </Button>\r\n                  <Button\r\n                    fullWidth\r\n                    variant=\"outlined\"\r\n                    onClick={() => {\r\n                      setShowTestSignup(true);\r\n                      setIsTestUser(true);\r\n                    }}\r\n                    sx={outlinedButtonStyles}\r\n                  >\r\n                    Create Test Account\r\n                  </Button>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Button\r\n                    type=\"submit\"\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    color=\"warning\"\r\n                    sx={{ ...buttonStyles, mt: 3, mb: 2 }}\r\n                  >\r\n                    Create Test Account\r\n                  </Button>\r\n                  <Button\r\n                    fullWidth\r\n                    variant=\"outlined\"\r\n                    onClick={() => {\r\n                      setShowTestSignup(false);\r\n                      setIsTestUser(false);\r\n                    }}\r\n                    sx={{ ...outlinedButtonStyles, mt: 1 }}\r\n                  >\r\n                    Back to Login\r\n                  </Button>\r\n                </>\r\n              )}\r\n            </>\r\n          )}\r\n        </Box>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Login;","const API_URL = process.env.NODE_ENV === 'production' \r\n  ? 'https://shipping-management.vercel.app/api'\r\n  : 'http://localhost:3000/api';\r\n\r\nexport const getApiUrl = (endpoint) => {\r\n  const url = `${API_URL}${endpoint}`;\r\n  console.log('API Request:', { url, environment: process.env.NODE_ENV });\r\n  return url;\r\n};\r\n"],"names":["ADMIN_EMAILS","Login","console","log","process","REACT_APP_API_URL","email","setEmail","useState","password","setPassword","name","setName","error","setError","showTestSignup","setShowTestSignup","showRegister","setShowRegister","isTestUser","setIsTestUser","isSubmitting","setIsSubmitting","navigate","useNavigate","buttonStyles","py","fontSize","fontWeight","height","textTransform","letterSpacing","transform","transition","outlinedButtonStyles","borderColor","backgroundColor","utilityButtonStyles","color","border","boxShadow","marginRight","sendAdminNotification","async","userData","response","fetch","endpoint","url","environment","getApiUrl","method","headers","body","JSON","stringify","ok","errorData","json","Error","data","_jsx","Container","component","maxWidth","children","_jsxs","Paper","elevation","sx","marginTop","padding","display","flexDirection","alignItems","Avatar","m","bgcolor","LockOutlinedIcon","Typography","variant","mb","Box","onSubmit","e","preventDefault","existingRequestQuery","query","collection","db","where","getDocs","empty","alert","userRequest","status","createdAt","Date","toISOString","addDoc","state","message","createUserWithEmailAndPassword","testAuth","localStorage","setItem","signInWithEmailAndPassword","auth","fromTempPassword","includes","pendingQuery","pendingSnapshot","size","userQuery","signOut","removeItem","mt","_Fragment","TextField","margin","required","fullWidth","label","value","onChange","target","position","Tooltip","title","arrow","placement","IconButton","right","top","HelpIcon","Button","type","disabled","CircularProgress","mr","onClick","gap","width","startIcon","SearchIcon","LockResetIcon","Divider","my"],"sourceRoot":""}