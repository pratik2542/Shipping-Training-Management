{"version":3,"file":"static/js/573.cc8dd960.chunk.js","mappings":"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","sources":["components/ShippingForm.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/react-signature-canvas/build/index.js","../node_modules/trim-canvas/build/index.js","../node_modules/signature_pad/dist/signature_pad.mjs"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport {\r\n  Box,\r\n  TextField,\r\n  Button,\r\n  Container,\r\n  Typography,\r\n  Grid,\r\n  Paper,\r\n  Input,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n} from '@mui/material';\r\nimport { collection, addDoc, doc, getDoc, updateDoc, query, orderBy, limit, getDocs } from 'firebase/firestore';\r\nimport { db } from '../firebase/config';\r\nimport { testDb } from '../firebase/testConfig';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport SignaturePad from 'react-signature-canvas';\r\n//import { generatePDF } from '../utils/pdfGenerator';\r\n\r\nconst SignatureDialog = ({ open, onClose, onSave, title }) => {\r\n  const sigPadRef = useRef(null);\r\n\r\n  const handleSave = () => {\r\n    if (sigPadRef.current) {\r\n      const signatureData = sigPadRef.current.toDataURL();\r\n      onSave(signatureData);\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleClear = () => {\r\n    if (sigPadRef.current) {\r\n      sigPadRef.current.clear();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onClose={onClose} maxWidth=\"sm\" fullWidth>\r\n      <DialogTitle>{title}</DialogTitle>\r\n      <DialogContent>\r\n        <Box\r\n          sx={{\r\n            border: '1px solid #ccc',\r\n            borderRadius: 1,\r\n            mt: 2,\r\n            backgroundColor: '#fff',\r\n          }}\r\n        >\r\n          <SignaturePad\r\n            ref={sigPadRef}\r\n            canvasProps={{\r\n              width: 500,\r\n              height: 200,\r\n              className: 'signature-canvas'\r\n            }}\r\n          />\r\n        </Box>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClear} color=\"secondary\">\r\n          Clear\r\n        </Button>\r\n        <Button onClick={onClose}>\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={handleSave} variant=\"contained\">\r\n          Save Signature\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nconst ShippingForm = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [isEditMode, setIsEditMode] = useState(false);\r\n  const [recordId, setRecordId] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    shipmentCode: '',  // Replace dpNumber with shipmentCode\r\n    shipmentDate: '',\r\n    itemNo: '',\r\n    itemName: '',\r\n    lotNumber: '',\r\n    quantities: '',\r\n    receiverName: '',\r\n    receiverSign: '',\r\n    receiverDate: '',\r\n    inspectorName: '',\r\n    inspectorSign: '',\r\n    inspectorDate: '',\r\n    approverName: '',\r\n    approverSign: '',\r\n    approverDate: '',\r\n    attachmentUrl: '',     // This will store base64 string\r\n    attachmentName: ''     // This will store the file name\r\n  });\r\n  const [signatureDialogOpen, setSignatureDialogOpen] = useState(false);\r\n  const [currentSignatureField, setCurrentSignatureField] = useState('');\r\n  const [recordFromDatabase, setRecordFromDatabase] = useState(null);\r\n\r\n  const getDbInstance = () => {\r\n    const isTestUser = localStorage.getItem('isTestUser') === 'true';\r\n    return isTestUser ? testDb : db;\r\n  };\r\n\r\n  const getCollectionName = () => {\r\n    const isTestUser = localStorage.getItem('isTestUser') === 'true';\r\n    return isTestUser ? 'test_shipments' : 'shipments';\r\n  };\r\n\r\n  const generateShipmentCode = useCallback((itemNo, lotNumber, shipmentDate) => {\r\n    if (!itemNo || !lotNumber || !shipmentDate) return '';\r\n    \r\n    // Remove any spaces and special characters\r\n    const cleanItemNo = itemNo.replace(/[^a-zA-Z0-9]/g, '');\r\n    const cleanLotNo = lotNumber.replace(/[^a-zA-Z0-9]/g, '');\r\n    const dateStr = shipmentDate.replace(/-/g, '');\r\n\r\n    // Combine the values (using first 4 chars of each if available)\r\n    const code = `${cleanItemNo.slice(0, 4)}-${cleanLotNo.slice(0, 4)}-${dateStr}`;\r\n    return code.toUpperCase();\r\n  }, []);\r\n\r\n  const handleBack = () => {\r\n    try {\r\n      navigate('/records');\r\n    } catch (error) {\r\n      console.error('Navigation error:', error);\r\n      // Fallback navigation\r\n      window.location.href = '/records';\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const loadExistingRecord = async () => {\r\n      try {\r\n        const dbInstance = getDbInstance();\r\n        const collectionName = getCollectionName();\r\n        const searchParams = new URLSearchParams(location.search);\r\n        const editId = searchParams.get('edit'); // This is the document ID\r\n        \r\n        if (editId) {\r\n          console.log('Loading record with ID:', editId);\r\n          const docRef = doc(dbInstance, collectionName, editId);\r\n          const docSnap = await getDoc(docRef);\r\n          \r\n          if (docSnap.exists()) {\r\n            const data = docSnap.data();\r\n            console.log('Loaded record data:', data);\r\n            \r\n            setIsEditMode(true);\r\n            setRecordId(editId);\r\n            setFormData({\r\n              id: data.id || '', // This is our auto-generated numeric ID\r\n              shipmentCode: data.shipmentCode || '', // Update this line\r\n              shipmentDate: data.shipmentDate || '',\r\n              itemNo: data.itemNo || '',\r\n              itemName: data.itemName || '',\r\n              lotNumber: data.lotNumber || '',\r\n              quantities: data.quantities || '',\r\n              receiverName: data.receiverName || '',\r\n              receiverSign: data.receiverSign || '',\r\n              receiverDate: data.receiverDate || '',\r\n              inspectorName: data.inspectorName || '',\r\n              inspectorSign: data.inspectorSign || '',\r\n              inspectorDate: data.inspectorDate || '',\r\n              approverName: data.approverName || '',\r\n              approverSign: data.approverSign || '',\r\n              approverDate: data.approverDate || '',\r\n              attachmentUrl: data.attachmentUrl || '',\r\n              attachmentName: data.attachmentName || ''\r\n            });\r\n            setRecordFromDatabase(data);\r\n          } else {\r\n            console.error('No document found with ID:', editId);\r\n            alert('Record not found');\r\n            navigate('/records');\r\n          }\r\n        } else {\r\n          // New form - don't set any ID\r\n          setIsEditMode(false);\r\n          setRecordId(null);\r\n          setFormData({\r\n            shipmentCode: '',\r\n            shipmentDate: '',\r\n            itemNo: '',\r\n            itemName: '',\r\n            lotNumber: '',\r\n            quantities: '',\r\n            receiverName: '',\r\n            receiverSign: '',\r\n            receiverDate: '',\r\n            inspectorName: '',\r\n            inspectorSign: '',\r\n            inspectorDate: '',\r\n            approverName: '',\r\n            approverSign: '',\r\n            approverDate: '',\r\n            attachmentUrl: '',\r\n            attachmentName: ''\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading record:', error);\r\n        alert('Error loading record');\r\n        navigate('/records');\r\n      }\r\n    };\r\n\r\n    loadExistingRecord();\r\n  }, [location.search, navigate]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      const isTestUser = localStorage.getItem('isTestUser') === 'true';\r\n      const dbInstance = isTestUser ? testDb : db;\r\n      const collectionName = isTestUser ? 'test_shipments' : 'shipments';\r\n\r\n      // Generate ID only when submitting and only from main collection for non-test users\r\n      let nextId = 1;\r\n      if (!isTestUser) {\r\n        // For regular users, query only the main shipments collection\r\n        const q = query(\r\n          collection(db, 'shipments'),\r\n          orderBy('numericId', 'desc'),\r\n          limit(1)\r\n        );\r\n        \r\n        const querySnapshot = await getDocs(q);\r\n        if (!querySnapshot.empty) {\r\n          const lastDoc = querySnapshot.docs[0].data();\r\n          nextId = (parseInt(lastDoc.numericId) || 0) + 1;\r\n        }\r\n      } else {\r\n        // For test users, start from 1 each time\r\n        nextId = 1;\r\n      }\r\n\r\n      // Validate required fields based on the stage\r\n      let requiredFields = ['shipmentDate', 'itemNo', 'itemName', 'lotNumber', 'quantities'];\r\n      \r\n      if (!isEditMode || !formData.receiverSign) {\r\n        requiredFields = [...requiredFields, 'receiverName'];\r\n      } else if (canModifyField('inspectorName')) {\r\n        requiredFields = [...requiredFields, 'inspectorName'];\r\n      } else if (canModifyField('approverName')) {\r\n        requiredFields = [...requiredFields, 'approverName'];\r\n      }\r\n      \r\n      const missingFields = requiredFields.filter(field => !formData[field]);\r\n      if (missingFields.length > 0) {\r\n        alert(`Please fill in all required fields: ${missingFields.join(', ')}`);\r\n        return;\r\n      }\r\n\r\n      // Set status based on signature state\r\n      const status = formData.approverSign ? 'Approved' : \r\n                    formData.inspectorSign ? 'Pending Approval' : \r\n                    formData.receiverSign ? 'Pending Inspection' : \r\n                    'Pending Shipment';\r\n\r\n      const dataToSubmit = {\r\n        ...formData,\r\n        id: nextId.toString(),\r\n        numericId: nextId,\r\n        uniqueId: `${nextId}-${Date.now()}`,\r\n        shipmentCode: formData.shipmentCode,\r\n        status: status,\r\n        lastUpdated: new Date().toISOString(),\r\n        isTestData: isTestUser // Add flag to identify test data\r\n      };\r\n\r\n      // Save to database\r\n      if (isEditMode && recordId) {\r\n        await updateDoc(doc(dbInstance, collectionName, recordId), dataToSubmit);\r\n      } else {\r\n        dataToSubmit.createdAt = new Date().toISOString();\r\n        await addDoc(collection(dbInstance, collectionName), dataToSubmit);\r\n      }\r\n\r\n      alert(`Form ${isEditMode ? 'updated' : 'submitted'} successfully!`);\r\n      navigate('/records');\r\n      \r\n    } catch (error) {\r\n      console.error('Error submitting form:', error);\r\n      const errorMessage = error?.message || 'Unknown error occurred';\r\n      alert(`Error submitting form: ${errorMessage}. Please try again.`);\r\n    }\r\n  };\r\n/*\r\n  // Add new function to handle PDF generation\r\n  const handleGeneratePDF = async () => {\r\n    try {\r\n      const pdfDoc = await generatePDF(formData);\r\n      const pdfBlob = new Blob([pdfDoc], { type: 'application/pdf' });\r\n      const pdfUrl = URL.createObjectURL(pdfBlob);\r\n      \r\n      window.open(pdfUrl, '_blank');\r\n      setTimeout(() => URL.revokeObjectURL(pdfUrl), 1000);\r\n    } catch (error) {\r\n      console.error('Error generating PDF:', error);\r\n      alert('Error generating PDF. Please try again.');\r\n    }\r\n  };*/\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => {\r\n      const newData = { ...prev, [name]: value };\r\n      \r\n      // Generate shipment code if all required fields are present\r\n      if (['itemNo', 'lotNumber', 'shipmentDate'].includes(name)) {\r\n        const shipmentCode = generateShipmentCode(\r\n          name === 'itemNo' ? value : newData.itemNo,\r\n          name === 'lotNumber' ? value : newData.lotNumber,\r\n          name === 'shipmentDate' ? value : newData.shipmentDate\r\n        );\r\n        newData.shipmentCode = shipmentCode;\r\n      }\r\n      \r\n      return newData;\r\n    });\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      if (file.type !== 'application/pdf') {\r\n        alert('Please upload only PDF files');\r\n        e.target.value = '';\r\n        return;\r\n      }\r\n      if (file.size > 1024 * 1024) {  // 1MB limit\r\n        alert('File size should be less than 1MB');\r\n        e.target.value = '';\r\n        return;\r\n      }\r\n\r\n      const reader = new FileReader();\r\n      reader.onload = () => {\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          attachmentUrl: reader.result,\r\n          attachmentName: file.name\r\n        }));\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const handleSignatureClick = (fieldName) => {\r\n    setCurrentSignatureField(fieldName);\r\n    setSignatureDialogOpen(true);\r\n  };\r\n\r\n  const handleSignatureSave = (signature) => {\r\n    const currentDate = new Date().toISOString().split('T')[0];\r\n    const dateField = currentSignatureField.replace('Sign', 'Date');\r\n    \r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [currentSignatureField]: signature,\r\n      [dateField]: currentDate\r\n    }));\r\n    \r\n    setSignatureDialogOpen(false);\r\n    setCurrentSignatureField(null);\r\n  };\r\n\r\n\r\n  const canModifyField = (fieldName) => {\r\n    // For new forms\r\n    if (!isEditMode) {\r\n      return fieldName.startsWith('receiver');\r\n    }\r\n  \r\n    // Get database status\r\n    const currentStatus = recordFromDatabase?.status || 'Pending Shipment';\r\n  \r\n    // Permission logic based on database status only\r\n    switch (currentStatus) {\r\n      case 'Pending Shipment':\r\n        return fieldName.startsWith('receiver');\r\n        \r\n      case 'Pending Inspection':\r\n        return fieldName.startsWith('inspector');\r\n        \r\n      case 'Pending Approval':\r\n        return fieldName.startsWith('approver');\r\n        \r\n      case 'Approved':\r\n        return false;\r\n        \r\n      default:\r\n        return false;\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <Container maxWidth=\"md\">\r\n      <Paper elevation={3} sx={{ p: 4, mt: 4 }}>\r\n        <Box sx={{ \r\n          display: 'flex', \r\n          flexDirection: { xs: 'column', sm: 'row' }, \r\n          justifyContent: 'space-between', \r\n          alignItems: { xs: 'stretch', sm: 'center' }, \r\n          gap: 2,\r\n          mb: 4 \r\n        }}>\r\n          <Box sx={{ \r\n            display: 'flex', \r\n            flexDirection: { xs: 'column', sm: 'row' }, \r\n            gap: 2,\r\n            width: { xs: '100%', sm: 'auto' } \r\n          }}>\r\n            <Button\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              onClick={() => navigate('/dashboard')}\r\n            >\r\n              Dashboard\r\n            </Button>\r\n            <Button\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              onClick={handleBack}\r\n            >\r\n              Back to Records\r\n            </Button>\r\n          </Box>\r\n          <Typography \r\n            variant=\"h4\" \r\n            sx={{ \r\n              textAlign: { xs: 'center', sm: 'right' },\r\n              color: 'primary.main',\r\n              fontSize: { xs: '1.5rem', sm: '2rem' }\r\n            }}\r\n          >\r\n            {isEditMode ? 'Edit Shipping Form' : 'New Shipping Form'}\r\n          </Typography>\r\n        </Box>\r\n        <Box component=\"form\" onSubmit={handleSubmit}>\r\n          <Grid container spacing={3}>\r\n            {/* Only show ID field if editing or after submission */}\r\n            {(isEditMode || formData.id) && (\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  fullWidth\r\n                  disabled\r\n                  label=\"ID\"\r\n                  value={formData.id || ''}\r\n                />\r\n              </Grid>\r\n            )}\r\n\r\n            {/* Shipment Code */}\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                fullWidth\r\n                disabled\r\n                label=\"Shipment Code\"\r\n                value={formData.shipmentCode || ''}\r\n                helperText=\"Auto-generated from Item No, Lot No, and Date\"\r\n              />\r\n            </Grid>\r\n\r\n            {/* Shipment Date */}\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                fullWidth\r\n                required\r\n                type=\"date\"\r\n                name=\"shipmentDate\"\r\n                label=\"Shipment Date\"\r\n                InputLabelProps={{ shrink: true }}\r\n                value={formData.shipmentDate}\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n\r\n            {/* Item Details */}\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                fullWidth\r\n                required\r\n                name=\"itemNo\"\r\n                label=\"Item Number\"\r\n                value={formData.itemNo}\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                fullWidth\r\n                required\r\n                name=\"itemName\"\r\n                label=\"Item Name\"\r\n                value={formData.itemName}\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                fullWidth\r\n                required\r\n                name=\"lotNumber\"\r\n                label=\"Lot Number\"\r\n                value={formData.lotNumber}\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                fullWidth\r\n                required\r\n                name=\"quantities\"\r\n                label=\"Quantities\"\r\n                type=\"number\"\r\n                value={formData.quantities}\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n\r\n            {/* Receiver Details */}\r\n            <Grid item xs={12}>\r\n              <Typography variant=\"h6\" sx={{ mb: 2, mt: 2 }}>Receiver Details</Typography>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={4}>\r\n              <TextField\r\n                fullWidth\r\n                name=\"receiverName\"\r\n                label=\"Receiver Name\"\r\n                value={formData.receiverName}\r\n                onChange={handleChange}\r\n                disabled={!canModifyField('receiverName')}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={4}>\r\n            <Box sx={{ width: '100%', mt: -3 }}>\r\n                <Typography variant=\"subtitle2\" sx={{ marginBottom: '3px !important' }}>Receiver Signature</Typography>\r\n                {formData.receiverSign ? (\r\n                  <Box sx={{ border: '1px solid #ccc', p: 1, mb: 1 }}>\r\n                    <img \r\n                      src={formData.receiverSign} \r\n                      alt=\"Receiver Signature\" \r\n                      style={{ maxWidth: '100%', height: 'auto' }}\r\n                    />\r\n                  </Box>\r\n                ) : null}\r\n                {canModifyField('receiverSign') && (\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    onClick={() => handleSignatureClick('receiverSign')}\r\n                  >\r\n                    {formData.receiverSign ? 'Change Signature' : 'Add Signature'}\r\n                  </Button>\r\n                )}\r\n              </Box>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={4}>\r\n            <TextField\r\n                fullWidth\r\n                type=\"date\"\r\n                name=\"receiverDate\"\r\n                label=\"Receiver Date\"\r\n                InputLabelProps={{ shrink: true }}\r\n                value={formData.receiverDate}\r\n                InputProps={{ readOnly: true }}\r\n            />\r\n            </Grid>\r\n\r\n            {/* Inspector Details */}\r\n            <Grid item xs={12}>\r\n              <Typography variant=\"h6\" sx={{ mb: 2, mt: 2 }}>Inspector Details</Typography>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={4}>\r\n              <TextField\r\n                fullWidth\r\n                name=\"inspectorName\"\r\n                label=\"Inspector Name\"\r\n                value={formData.inspectorName}\r\n                onChange={handleChange}\r\n                disabled={!canModifyField('inspectorName')}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={4}>\r\n            <Box sx={{ width: '100%', mt: -3 }}>\r\n                <Typography variant=\"subtitle2\" sx={{ marginBottom: '3px !important' }}>Inspector Signature</Typography>\r\n                {formData.inspectorSign ? (\r\n                  <Box sx={{ border: '1px solid #ccc', p: 1, mb: 1 }}>\r\n                    <img \r\n                      src={formData.inspectorSign} \r\n                      alt=\"Inspector Signature\" \r\n                      style={{ maxWidth: '100%', height: 'auto' }}\r\n                    />\r\n                  </Box>\r\n                ) : null}\r\n                {canModifyField('inspectorSign') && (\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    onClick={() => handleSignatureClick('inspectorSign')}\r\n                  >\r\n                    {formData.inspectorSign ? 'Change Signature' : 'Add Signature'}\r\n                  </Button>\r\n                )}\r\n              </Box>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={4}>\r\n              <TextField\r\n                fullWidth\r\n                type=\"date\"\r\n                name=\"inspectorDate\"\r\n                label=\"Inspector Date\"\r\n                InputLabelProps={{ shrink: true }}\r\n                value={formData.inspectorDate}\r\n                InputProps={{ readOnly: true }}\r\n              />\r\n            </Grid>\r\n\r\n            {/* Approver Details */}\r\n            <Grid item xs={12}>\r\n              <Typography variant=\"h6\" sx={{ mb: 2, mt: 2 }}>Approver Details</Typography>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={4}>\r\n              <TextField\r\n                fullWidth\r\n                name=\"approverName\"\r\n                label=\"Approver Name\"\r\n                value={formData.approverName}\r\n                onChange={handleChange}\r\n                disabled={!canModifyField('approverName')}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={4}>\r\n            <Box sx={{ width: '100%', mt: -3 }}>    \r\n                <Typography variant=\"subtitle2\" sx={{ marginBottom: '3px !important' }}>Approver Signature</Typography>\r\n                {formData.approverSign ? (\r\n                  <Box sx={{ border: '1px solid #ccc', p: 1, mb: 1 }}>\r\n                    <img \r\n                      src={formData.approverSign} \r\n                      alt=\"Approver Signature\" \r\n                      style={{ maxWidth: '100%', height: 'auto' }}\r\n                    />\r\n                  </Box>\r\n                ) : null}\r\n                {canModifyField('approverSign') && (\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    onClick={() => handleSignatureClick('approverSign')}\r\n                  >\r\n                    {formData.approverSign ? 'Change Signature' : 'Add Signature'}\r\n                  </Button>\r\n                )}\r\n              </Box>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={4}>\r\n              <TextField\r\n                fullWidth\r\n                type=\"date\"\r\n                name=\"approverDate\"\r\n                label=\"Approver Date\"\r\n                InputLabelProps={{ shrink: true }}\r\n                value={formData.approverDate}\r\n                InputProps={{ readOnly: true }}\r\n              />\r\n            </Grid>\r\n\r\n            {/* Attachment */}\r\n            <Grid item xs={12}>\r\n              <Typography variant=\"h6\" sx={{ mb: 2, mt: 2 }}>\r\n                Attachment (Optional - Max 1MB)\r\n              </Typography>\r\n              <Input\r\n                type=\"file\"\r\n                accept=\"application/pdf\"\r\n                onChange={handleFileChange}\r\n                sx={{ mb: 2 }}\r\n              />\r\n              {formData.attachmentUrl && (\r\n                <Typography variant=\"body2\" color=\"primary\" sx={{ mt: 1 }}>\r\n                  Current attachment: {formData.attachmentName || 'PDF Document'}\r\n                </Typography>\r\n              )}\r\n            </Grid>\r\n\r\n            {/* Signature Dialog */}\r\n            <SignatureDialog\r\n              open={signatureDialogOpen}\r\n              onClose={() => setSignatureDialogOpen(false)}\r\n              onSave={handleSignatureSave}\r\n              title={`Add ${currentSignatureField?.replace('Sign', '')} Signature`}\r\n            />\r\n\r\n            {/* Submit */}\r\n            <Grid item xs={12}>\r\n              <Box sx={{ display: 'flex', gap: 2, mt: 2 }}>\r\n                <Button\r\n                  type=\"submit\"\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  size=\"large\"\r\n                  fullWidth\r\n                >\r\n                  Submit Form\r\n                </Button>\r\n                \r\n              </Box>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ShippingForm;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"prop-types\"),require(\"react\"),require(\"signature_pad\"),require(\"trim-canvas\")):\"function\"==typeof define&&define.amd?define([\"prop-types\",\"react\",\"signature_pad\",\"trim-canvas\"],t):\"object\"==typeof exports?exports.SignatureCanvas=t(require(\"prop-types\"),require(\"react\"),require(\"signature_pad\"),require(\"trim-canvas\")):e.SignatureCanvas=t(e[\"prop-types\"],e.react,e.signature_pad,e[\"trim-canvas\"])}(this,function(e,t,n,r){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p=\"\",t(0)}([function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),l=n(2),d=r(l),v=n(3),h=r(v),_=n(4),g=r(_),m=function(e){function t(){var e,n,r,u;o(this,t);for(var s=arguments.length,c=Array(s),f=0;f<s;f++)c[f]=arguments[f];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r._sigPad=null,r._excludeOurProps=function(){var e=r.props,t=(e.canvasProps,e.clearOnResize,a(e,[\"canvasProps\",\"clearOnResize\"]));return t},r.getCanvas=function(){return r._canvas},r.getTrimmedCanvas=function(){var e=document.createElement(\"canvas\");return e.width=r._canvas.width,e.height=r._canvas.height,e.getContext(\"2d\").drawImage(r._canvas,0,0),(0,g.default)(e)},r.getSignaturePad=function(){return r._sigPad},r._checkClearOnResize=function(){r.props.clearOnResize&&r._resizeCanvas()},r._resizeCanvas=function(){var e=r.props.canvasProps||{},t=e.width,n=e.height;if(!t||!n){var a=r._canvas,o=Math.max(window.devicePixelRatio||1,1);t||(a.width=a.offsetWidth*o),n||(a.height=a.offsetHeight*o),a.getContext(\"2d\").scale(o,o),r.clear()}},r.on=function(){return window.addEventListener(\"resize\",r._checkClearOnResize),r._sigPad.on()},r.off=function(){return window.removeEventListener(\"resize\",r._checkClearOnResize),r._sigPad.off()},r.clear=function(){return r._sigPad.clear()},r.isEmpty=function(){return r._sigPad.isEmpty()},r.fromDataURL=function(e,t){return r._sigPad.fromDataURL(e,t)},r.toDataURL=function(e,t){return r._sigPad.toDataURL(e,t)},r.fromData=function(e){return r._sigPad.fromData(e)},r.toData=function(){return r._sigPad.toData()},u=n,i(r,u)}return u(t,e),c(t,[{key:\"componentDidMount\",value:function(){this._sigPad=new h.default(this._canvas,this._excludeOurProps()),this._resizeCanvas(),this.on()}},{key:\"componentWillUnmount\",value:function(){this.off()}},{key:\"componentDidUpdate\",value:function(){Object.assign(this._sigPad,this._excludeOurProps())}},{key:\"render\",value:function(){var e=this,t=this.props.canvasProps;return d.default.createElement(\"canvas\",s({ref:function(t){e._canvas=t}},t))}}]),t}(l.Component);m.propTypes={velocityFilterWeight:p.default.number,minWidth:p.default.number,maxWidth:p.default.number,minDistance:p.default.number,dotSize:p.default.oneOfType([p.default.number,p.default.func]),penColor:p.default.string,throttle:p.default.number,onEnd:p.default.func,onBegin:p.default.func,canvasProps:p.default.object,clearOnResize:p.default.bool},m.defaultProps={clearOnResize:!0},t.default=m},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=r}])});","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.trimCanvas=t():e.trimCanvas=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p=\"\",t(0)}([function(e,t){\"use strict\";function r(e){var t=e.getContext(\"2d\"),r=e.width,n=e.height,o=t.getImageData(0,0,r,n).data,f=a(!0,r,n,o),i=a(!1,r,n,o),c=u(!0,r,n,o),d=u(!1,r,n,o),p=d-c+1,l=i-f+1,s=t.getImageData(c,f,p,l);return e.width=p,e.height=l,t.clearRect(0,0,p,l),t.putImageData(s,0,0),e}function n(e,t,r,n){return{red:n[4*(r*t+e)],green:n[4*(r*t+e)+1],blue:n[4*(r*t+e)+2],alpha:n[4*(r*t+e)+3]}}function o(e,t,r,o){return n(e,t,r,o).alpha}function a(e,t,r,n){for(var a=e?1:-1,u=e?0:r-1,f=u;e?f<r:f>-1;f+=a)for(var i=0;i<t;i++)if(o(i,f,t,n))return f;return null}function u(e,t,r,n){for(var a=e?1:-1,u=e?0:t-1,f=u;e?f<t:f>-1;f+=a)for(var i=0;i<r;i++)if(o(f,i,t,n))return f;return null}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=r}])});","/*!\n * Signature Pad v2.3.2\n * https://github.com/szimek/signature_pad\n *\n * Copyright 2017 Szymon Nowak\n * Released under the MIT license\n *\n * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:\n * http://corner.squareup.com/2012/07/smoother-signatures.html\n *\n * Implementation of interpolation using cubic Bézier curves is taken from:\n * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript\n *\n * Algorithm for approximated length of a Bézier curve is taken from:\n * http://www.lemoda.net/maths/bezier-length/index.html\n *\n */\n\nfunction Point(x, y, time) {\n  this.x = x;\n  this.y = y;\n  this.time = time || new Date().getTime();\n}\n\nPoint.prototype.velocityFrom = function (start) {\n  return this.time !== start.time ? this.distanceTo(start) / (this.time - start.time) : 1;\n};\n\nPoint.prototype.distanceTo = function (start) {\n  return Math.sqrt(Math.pow(this.x - start.x, 2) + Math.pow(this.y - start.y, 2));\n};\n\nPoint.prototype.equals = function (other) {\n  return this.x === other.x && this.y === other.y && this.time === other.time;\n};\n\nfunction Bezier(startPoint, control1, control2, endPoint) {\n  this.startPoint = startPoint;\n  this.control1 = control1;\n  this.control2 = control2;\n  this.endPoint = endPoint;\n}\n\n// Returns approximated length.\nBezier.prototype.length = function () {\n  var steps = 10;\n  var length = 0;\n  var px = void 0;\n  var py = void 0;\n\n  for (var i = 0; i <= steps; i += 1) {\n    var t = i / steps;\n    var cx = this._point(t, this.startPoint.x, this.control1.x, this.control2.x, this.endPoint.x);\n    var cy = this._point(t, this.startPoint.y, this.control1.y, this.control2.y, this.endPoint.y);\n    if (i > 0) {\n      var xdiff = cx - px;\n      var ydiff = cy - py;\n      length += Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n    }\n    px = cx;\n    py = cy;\n  }\n\n  return length;\n};\n\n/* eslint-disable no-multi-spaces, space-in-parens */\nBezier.prototype._point = function (t, start, c1, c2, end) {\n  return start * (1.0 - t) * (1.0 - t) * (1.0 - t) + 3.0 * c1 * (1.0 - t) * (1.0 - t) * t + 3.0 * c2 * (1.0 - t) * t * t + end * t * t * t;\n};\n\n/* eslint-disable */\n\n// http://stackoverflow.com/a/27078401/815507\nfunction throttle(func, wait, options) {\n  var context, args, result;\n  var timeout = null;\n  var previous = 0;\n  if (!options) options = {};\n  var later = function later() {\n    previous = options.leading === false ? 0 : Date.now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n  return function () {\n    var now = Date.now();\n    if (!previous && options.leading === false) previous = now;\n    var remaining = wait - (now - previous);\n    context = this;\n    args = arguments;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n}\n\nfunction SignaturePad(canvas, options) {\n  var self = this;\n  var opts = options || {};\n\n  this.velocityFilterWeight = opts.velocityFilterWeight || 0.7;\n  this.minWidth = opts.minWidth || 0.5;\n  this.maxWidth = opts.maxWidth || 2.5;\n  this.throttle = 'throttle' in opts ? opts.throttle : 16; // in miliseconds\n  this.minDistance = 'minDistance' in opts ? opts.minDistance : 5;\n\n  if (this.throttle) {\n    this._strokeMoveUpdate = throttle(SignaturePad.prototype._strokeUpdate, this.throttle);\n  } else {\n    this._strokeMoveUpdate = SignaturePad.prototype._strokeUpdate;\n  }\n\n  this.dotSize = opts.dotSize || function () {\n    return (this.minWidth + this.maxWidth) / 2;\n  };\n  this.penColor = opts.penColor || 'black';\n  this.backgroundColor = opts.backgroundColor || 'rgba(0,0,0,0)';\n  this.onBegin = opts.onBegin;\n  this.onEnd = opts.onEnd;\n\n  this._canvas = canvas;\n  this._ctx = canvas.getContext('2d');\n  this.clear();\n\n  // We need add these inline so they are available to unbind while still having\n  // access to 'self' we could use _.bind but it's not worth adding a dependency.\n  this._handleMouseDown = function (event) {\n    if (event.which === 1) {\n      self._mouseButtonDown = true;\n      self._strokeBegin(event);\n    }\n  };\n\n  this._handleMouseMove = function (event) {\n    if (self._mouseButtonDown) {\n      self._strokeMoveUpdate(event);\n    }\n  };\n\n  this._handleMouseUp = function (event) {\n    if (event.which === 1 && self._mouseButtonDown) {\n      self._mouseButtonDown = false;\n      self._strokeEnd(event);\n    }\n  };\n\n  this._handleTouchStart = function (event) {\n    if (event.targetTouches.length === 1) {\n      var touch = event.changedTouches[0];\n      self._strokeBegin(touch);\n    }\n  };\n\n  this._handleTouchMove = function (event) {\n    // Prevent scrolling.\n    event.preventDefault();\n\n    var touch = event.targetTouches[0];\n    self._strokeMoveUpdate(touch);\n  };\n\n  this._handleTouchEnd = function (event) {\n    var wasCanvasTouched = event.target === self._canvas;\n    if (wasCanvasTouched) {\n      event.preventDefault();\n      self._strokeEnd(event);\n    }\n  };\n\n  // Enable mouse and touch event handlers\n  this.on();\n}\n\n// Public methods\nSignaturePad.prototype.clear = function () {\n  var ctx = this._ctx;\n  var canvas = this._canvas;\n\n  ctx.fillStyle = this.backgroundColor;\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n  this._data = [];\n  this._reset();\n  this._isEmpty = true;\n};\n\nSignaturePad.prototype.fromDataURL = function (dataUrl) {\n  var _this = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var image = new Image();\n  var ratio = options.ratio || window.devicePixelRatio || 1;\n  var width = options.width || this._canvas.width / ratio;\n  var height = options.height || this._canvas.height / ratio;\n\n  this._reset();\n  image.src = dataUrl;\n  image.onload = function () {\n    _this._ctx.drawImage(image, 0, 0, width, height);\n  };\n  this._isEmpty = false;\n};\n\nSignaturePad.prototype.toDataURL = function (type) {\n  var _canvas;\n\n  switch (type) {\n    case 'image/svg+xml':\n      return this._toSVG();\n    default:\n      for (var _len = arguments.length, options = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        options[_key - 1] = arguments[_key];\n      }\n\n      return (_canvas = this._canvas).toDataURL.apply(_canvas, [type].concat(options));\n  }\n};\n\nSignaturePad.prototype.on = function () {\n  this._handleMouseEvents();\n  this._handleTouchEvents();\n};\n\nSignaturePad.prototype.off = function () {\n  this._canvas.removeEventListener('mousedown', this._handleMouseDown);\n  this._canvas.removeEventListener('mousemove', this._handleMouseMove);\n  document.removeEventListener('mouseup', this._handleMouseUp);\n\n  this._canvas.removeEventListener('touchstart', this._handleTouchStart);\n  this._canvas.removeEventListener('touchmove', this._handleTouchMove);\n  this._canvas.removeEventListener('touchend', this._handleTouchEnd);\n};\n\nSignaturePad.prototype.isEmpty = function () {\n  return this._isEmpty;\n};\n\n// Private methods\nSignaturePad.prototype._strokeBegin = function (event) {\n  this._data.push([]);\n  this._reset();\n  this._strokeUpdate(event);\n\n  if (typeof this.onBegin === 'function') {\n    this.onBegin(event);\n  }\n};\n\nSignaturePad.prototype._strokeUpdate = function (event) {\n  var x = event.clientX;\n  var y = event.clientY;\n\n  var point = this._createPoint(x, y);\n  var lastPointGroup = this._data[this._data.length - 1];\n  var lastPoint = lastPointGroup && lastPointGroup[lastPointGroup.length - 1];\n  var isLastPointTooClose = lastPoint && point.distanceTo(lastPoint) < this.minDistance;\n\n  // Skip this point if it's too close to the previous one\n  if (!(lastPoint && isLastPointTooClose)) {\n    var _addPoint = this._addPoint(point),\n        curve = _addPoint.curve,\n        widths = _addPoint.widths;\n\n    if (curve && widths) {\n      this._drawCurve(curve, widths.start, widths.end);\n    }\n\n    this._data[this._data.length - 1].push({\n      x: point.x,\n      y: point.y,\n      time: point.time,\n      color: this.penColor\n    });\n  }\n};\n\nSignaturePad.prototype._strokeEnd = function (event) {\n  var canDrawCurve = this.points.length > 2;\n  var point = this.points[0]; // Point instance\n\n  if (!canDrawCurve && point) {\n    this._drawDot(point);\n  }\n\n  if (point) {\n    var lastPointGroup = this._data[this._data.length - 1];\n    var lastPoint = lastPointGroup[lastPointGroup.length - 1]; // plain object\n\n    // When drawing a dot, there's only one point in a group, so without this check\n    // such group would end up with exactly the same 2 points.\n    if (!point.equals(lastPoint)) {\n      lastPointGroup.push({\n        x: point.x,\n        y: point.y,\n        time: point.time,\n        color: this.penColor\n      });\n    }\n  }\n\n  if (typeof this.onEnd === 'function') {\n    this.onEnd(event);\n  }\n};\n\nSignaturePad.prototype._handleMouseEvents = function () {\n  this._mouseButtonDown = false;\n\n  this._canvas.addEventListener('mousedown', this._handleMouseDown);\n  this._canvas.addEventListener('mousemove', this._handleMouseMove);\n  document.addEventListener('mouseup', this._handleMouseUp);\n};\n\nSignaturePad.prototype._handleTouchEvents = function () {\n  // Pass touch events to canvas element on mobile IE11 and Edge.\n  this._canvas.style.msTouchAction = 'none';\n  this._canvas.style.touchAction = 'none';\n\n  this._canvas.addEventListener('touchstart', this._handleTouchStart);\n  this._canvas.addEventListener('touchmove', this._handleTouchMove);\n  this._canvas.addEventListener('touchend', this._handleTouchEnd);\n};\n\nSignaturePad.prototype._reset = function () {\n  this.points = [];\n  this._lastVelocity = 0;\n  this._lastWidth = (this.minWidth + this.maxWidth) / 2;\n  this._ctx.fillStyle = this.penColor;\n};\n\nSignaturePad.prototype._createPoint = function (x, y, time) {\n  var rect = this._canvas.getBoundingClientRect();\n\n  return new Point(x - rect.left, y - rect.top, time || new Date().getTime());\n};\n\nSignaturePad.prototype._addPoint = function (point) {\n  var points = this.points;\n  var tmp = void 0;\n\n  points.push(point);\n\n  if (points.length > 2) {\n    // To reduce the initial lag make it work with 3 points\n    // by copying the first point to the beginning.\n    if (points.length === 3) points.unshift(points[0]);\n\n    tmp = this._calculateCurveControlPoints(points[0], points[1], points[2]);\n    var c2 = tmp.c2;\n    tmp = this._calculateCurveControlPoints(points[1], points[2], points[3]);\n    var c3 = tmp.c1;\n    var curve = new Bezier(points[1], c2, c3, points[2]);\n    var widths = this._calculateCurveWidths(curve);\n\n    // Remove the first element from the list,\n    // so that we always have no more than 4 points in points array.\n    points.shift();\n\n    return { curve: curve, widths: widths };\n  }\n\n  return {};\n};\n\nSignaturePad.prototype._calculateCurveControlPoints = function (s1, s2, s3) {\n  var dx1 = s1.x - s2.x;\n  var dy1 = s1.y - s2.y;\n  var dx2 = s2.x - s3.x;\n  var dy2 = s2.y - s3.y;\n\n  var m1 = { x: (s1.x + s2.x) / 2.0, y: (s1.y + s2.y) / 2.0 };\n  var m2 = { x: (s2.x + s3.x) / 2.0, y: (s2.y + s3.y) / 2.0 };\n\n  var l1 = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n  var l2 = Math.sqrt(dx2 * dx2 + dy2 * dy2);\n\n  var dxm = m1.x - m2.x;\n  var dym = m1.y - m2.y;\n\n  var k = l2 / (l1 + l2);\n  var cm = { x: m2.x + dxm * k, y: m2.y + dym * k };\n\n  var tx = s2.x - cm.x;\n  var ty = s2.y - cm.y;\n\n  return {\n    c1: new Point(m1.x + tx, m1.y + ty),\n    c2: new Point(m2.x + tx, m2.y + ty)\n  };\n};\n\nSignaturePad.prototype._calculateCurveWidths = function (curve) {\n  var startPoint = curve.startPoint;\n  var endPoint = curve.endPoint;\n  var widths = { start: null, end: null };\n\n  var velocity = this.velocityFilterWeight * endPoint.velocityFrom(startPoint) + (1 - this.velocityFilterWeight) * this._lastVelocity;\n\n  var newWidth = this._strokeWidth(velocity);\n\n  widths.start = this._lastWidth;\n  widths.end = newWidth;\n\n  this._lastVelocity = velocity;\n  this._lastWidth = newWidth;\n\n  return widths;\n};\n\nSignaturePad.prototype._strokeWidth = function (velocity) {\n  return Math.max(this.maxWidth / (velocity + 1), this.minWidth);\n};\n\nSignaturePad.prototype._drawPoint = function (x, y, size) {\n  var ctx = this._ctx;\n\n  ctx.moveTo(x, y);\n  ctx.arc(x, y, size, 0, 2 * Math.PI, false);\n  this._isEmpty = false;\n};\n\nSignaturePad.prototype._drawCurve = function (curve, startWidth, endWidth) {\n  var ctx = this._ctx;\n  var widthDelta = endWidth - startWidth;\n  var drawSteps = Math.floor(curve.length());\n\n  ctx.beginPath();\n\n  for (var i = 0; i < drawSteps; i += 1) {\n    // Calculate the Bezier (x, y) coordinate for this step.\n    var t = i / drawSteps;\n    var tt = t * t;\n    var ttt = tt * t;\n    var u = 1 - t;\n    var uu = u * u;\n    var uuu = uu * u;\n\n    var x = uuu * curve.startPoint.x;\n    x += 3 * uu * t * curve.control1.x;\n    x += 3 * u * tt * curve.control2.x;\n    x += ttt * curve.endPoint.x;\n\n    var y = uuu * curve.startPoint.y;\n    y += 3 * uu * t * curve.control1.y;\n    y += 3 * u * tt * curve.control2.y;\n    y += ttt * curve.endPoint.y;\n\n    var width = startWidth + ttt * widthDelta;\n    this._drawPoint(x, y, width);\n  }\n\n  ctx.closePath();\n  ctx.fill();\n};\n\nSignaturePad.prototype._drawDot = function (point) {\n  var ctx = this._ctx;\n  var width = typeof this.dotSize === 'function' ? this.dotSize() : this.dotSize;\n\n  ctx.beginPath();\n  this._drawPoint(point.x, point.y, width);\n  ctx.closePath();\n  ctx.fill();\n};\n\nSignaturePad.prototype._fromData = function (pointGroups, drawCurve, drawDot) {\n  for (var i = 0; i < pointGroups.length; i += 1) {\n    var group = pointGroups[i];\n\n    if (group.length > 1) {\n      for (var j = 0; j < group.length; j += 1) {\n        var rawPoint = group[j];\n        var point = new Point(rawPoint.x, rawPoint.y, rawPoint.time);\n        var color = rawPoint.color;\n\n        if (j === 0) {\n          // First point in a group. Nothing to draw yet.\n\n          // All points in the group have the same color, so it's enough to set\n          // penColor just at the beginning.\n          this.penColor = color;\n          this._reset();\n\n          this._addPoint(point);\n        } else if (j !== group.length - 1) {\n          // Middle point in a group.\n          var _addPoint2 = this._addPoint(point),\n              curve = _addPoint2.curve,\n              widths = _addPoint2.widths;\n\n          if (curve && widths) {\n            drawCurve(curve, widths, color);\n          }\n        } else {\n          // Last point in a group. Do nothing.\n        }\n      }\n    } else {\n      this._reset();\n      var _rawPoint = group[0];\n      drawDot(_rawPoint);\n    }\n  }\n};\n\nSignaturePad.prototype._toSVG = function () {\n  var _this2 = this;\n\n  var pointGroups = this._data;\n  var canvas = this._canvas;\n  var ratio = Math.max(window.devicePixelRatio || 1, 1);\n  var minX = 0;\n  var minY = 0;\n  var maxX = canvas.width / ratio;\n  var maxY = canvas.height / ratio;\n  var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\n  svg.setAttributeNS(null, 'width', canvas.width);\n  svg.setAttributeNS(null, 'height', canvas.height);\n\n  this._fromData(pointGroups, function (curve, widths, color) {\n    var path = document.createElement('path');\n\n    // Need to check curve for NaN values, these pop up when drawing\n    // lines on the canvas that are not continuous. E.g. Sharp corners\n    // or stopping mid-stroke and than continuing without lifting mouse.\n    if (!isNaN(curve.control1.x) && !isNaN(curve.control1.y) && !isNaN(curve.control2.x) && !isNaN(curve.control2.y)) {\n      var attr = 'M ' + curve.startPoint.x.toFixed(3) + ',' + curve.startPoint.y.toFixed(3) + ' ' + ('C ' + curve.control1.x.toFixed(3) + ',' + curve.control1.y.toFixed(3) + ' ') + (curve.control2.x.toFixed(3) + ',' + curve.control2.y.toFixed(3) + ' ') + (curve.endPoint.x.toFixed(3) + ',' + curve.endPoint.y.toFixed(3));\n\n      path.setAttribute('d', attr);\n      path.setAttribute('stroke-width', (widths.end * 2.25).toFixed(3));\n      path.setAttribute('stroke', color);\n      path.setAttribute('fill', 'none');\n      path.setAttribute('stroke-linecap', 'round');\n\n      svg.appendChild(path);\n    }\n  }, function (rawPoint) {\n    var circle = document.createElement('circle');\n    var dotSize = typeof _this2.dotSize === 'function' ? _this2.dotSize() : _this2.dotSize;\n    circle.setAttribute('r', dotSize);\n    circle.setAttribute('cx', rawPoint.x);\n    circle.setAttribute('cy', rawPoint.y);\n    circle.setAttribute('fill', rawPoint.color);\n\n    svg.appendChild(circle);\n  });\n\n  var prefix = 'data:image/svg+xml;base64,';\n  var header = '<svg' + ' xmlns=\"http://www.w3.org/2000/svg\"' + ' xmlns:xlink=\"http://www.w3.org/1999/xlink\"' + (' viewBox=\"' + minX + ' ' + minY + ' ' + maxX + ' ' + maxY + '\"') + (' width=\"' + maxX + '\"') + (' height=\"' + maxY + '\"') + '>';\n  var body = svg.innerHTML;\n\n  // IE hack for missing innerHTML property on SVGElement\n  if (body === undefined) {\n    var dummy = document.createElement('dummy');\n    var nodes = svg.childNodes;\n    dummy.innerHTML = '';\n\n    for (var i = 0; i < nodes.length; i += 1) {\n      dummy.appendChild(nodes[i].cloneNode(true));\n    }\n\n    body = dummy.innerHTML;\n  }\n\n  var footer = '</svg>';\n  var data = header + body + footer;\n\n  return prefix + btoa(data);\n};\n\nSignaturePad.prototype.fromData = function (pointGroups) {\n  var _this3 = this;\n\n  this.clear();\n\n  this._fromData(pointGroups, function (curve, widths) {\n    return _this3._drawCurve(curve, widths.start, widths.end);\n  }, function (rawPoint) {\n    return _this3._drawDot(rawPoint);\n  });\n\n  this._data = pointGroups;\n};\n\nSignaturePad.prototype.toData = function () {\n  return this._data;\n};\n\nexport default SignaturePad;\n"],"names":["SignatureDialog","_ref","open","onClose","onSave","title","sigPadRef","useRef","_jsxs","Dialog","maxWidth","fullWidth","children","_jsx","DialogTitle","DialogContent","Box","sx","border","borderRadius","mt","backgroundColor","SignaturePad","ref","canvasProps","width","height","className","DialogActions","Button","onClick","handleClear","current","clear","color","handleSave","signatureData","toDataURL","variant","ShippingForm","navigate","useNavigate","location","useLocation","isEditMode","setIsEditMode","useState","recordId","setRecordId","formData","setFormData","shipmentCode","shipmentDate","itemNo","itemName","lotNumber","quantities","receiverName","receiverSign","receiverDate","inspectorName","inspectorSign","inspectorDate","approverName","approverSign","approverDate","attachmentUrl","attachmentName","signatureDialogOpen","setSignatureDialogOpen","currentSignatureField","setCurrentSignatureField","recordFromDatabase","setRecordFromDatabase","generateShipmentCode","useCallback","cleanItemNo","replace","cleanLotNo","dateStr","slice","toUpperCase","useEffect","async","dbInstance","localStorage","getItem","testDb","db","collectionName","editId","URLSearchParams","search","get","console","log","docRef","doc","docSnap","getDoc","exists","data","id","error","alert","loadExistingRecord","handleChange","e","name","value","target","prev","newData","includes","handleSignatureClick","fieldName","canModifyField","startsWith","status","Container","Paper","elevation","p","display","flexDirection","xs","sm","justifyContent","alignItems","gap","mb","handleBack","window","href","Typography","textAlign","fontSize","component","onSubmit","preventDefault","isTestUser","nextId","q","query","collection","orderBy","limit","querySnapshot","getDocs","empty","lastDoc","docs","parseInt","numericId","requiredFields","missingFields","filter","field","length","join","dataToSubmit","toString","uniqueId","Date","now","lastUpdated","toISOString","isTestData","updateDoc","createdAt","addDoc","errorMessage","message","Grid","container","spacing","item","TextField","disabled","label","helperText","required","type","InputLabelProps","shrink","onChange","marginBottom","src","alt","style","InputProps","readOnly","Input","accept","file","files","size","reader","FileReader","onload","result","readAsDataURL","signature","currentDate","split","dateField","ReactPropTypesSecret","require","emptyFunction","emptyFunctionWithReset","resetWarningCache","module","exports","shim","props","propName","componentName","propFullName","secret","err","Error","getShim","isRequired","ReactPropTypes","array","bigint","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","t","n","r","a","loaded","call","m","c","__esModule","default","indexOf","Object","prototype","hasOwnProperty","o","TypeError","i","ReferenceError","u","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","s","assign","arguments","key","l","d","h","g","this","Array","f","getPrototypeOf","apply","concat","_sigPad","_excludeOurProps","clearOnResize","getCanvas","_canvas","getTrimmedCanvas","document","createElement","getContext","drawImage","getSignaturePad","_checkClearOnResize","_resizeCanvas","Math","max","devicePixelRatio","offsetWidth","offsetHeight","scale","on","addEventListener","off","removeEventListener","isEmpty","fromDataURL","fromData","toData","Component","propTypes","velocityFilterWeight","minWidth","minDistance","dotSize","penColor","throttle","onEnd","onBegin","defaultProps","getImageData","clearRect","putImageData","red","green","blue","alpha","Point","x","y","time","getTime","Bezier","startPoint","control1","control2","endPoint","canvas","options","self","opts","_strokeMoveUpdate","wait","context","args","timeout","previous","later","leading","remaining","clearTimeout","trailing","setTimeout","_strokeUpdate","_ctx","_handleMouseDown","event","which","_mouseButtonDown","_strokeBegin","_handleMouseMove","_handleMouseUp","_strokeEnd","_handleTouchStart","targetTouches","touch","changedTouches","_handleTouchMove","_handleTouchEnd","velocityFrom","start","distanceTo","sqrt","pow","equals","other","px","py","cx","_point","cy","xdiff","ydiff","c1","c2","end","ctx","fillStyle","fillRect","_data","_reset","_isEmpty","dataUrl","_this","undefined","image","Image","ratio","_toSVG","_len","_key","_handleMouseEvents","_handleTouchEvents","push","clientX","clientY","point","_createPoint","lastPointGroup","lastPoint","isLastPointTooClose","_addPoint","curve","widths","_drawCurve","canDrawCurve","points","_drawDot","msTouchAction","touchAction","_lastVelocity","_lastWidth","rect","getBoundingClientRect","left","top","unshift","_calculateCurveControlPoints","c3","_calculateCurveWidths","shift","s1","s2","s3","dx1","dy1","dx2","dy2","m1","m2","l1","l2","k","cm","tx","ty","velocity","newWidth","_strokeWidth","_drawPoint","moveTo","arc","PI","startWidth","endWidth","widthDelta","drawSteps","floor","beginPath","tt","ttt","uu","uuu","closePath","fill","_fromData","pointGroups","drawCurve","drawDot","group","j","rawPoint","_addPoint2","_this2","maxX","maxY","svg","createElementNS","setAttributeNS","path","isNaN","attr","toFixed","setAttribute","appendChild","circle","header","body","innerHTML","dummy","nodes","childNodes","cloneNode","btoa","_this3"],"sourceRoot":""}