"use strict";(self.webpackChunkPM=self.webpackChunkPM||[]).push([[425],{8425:(e,r,n)=>{n.r(r),n.d(r,{default:()=>L});var i=n(5043),t=n(3336),s=n(6446),a=n(5865),o=n(1906),c=n(8076),l=n(2420),d=n(7392),x=n(35),h=n(6600),A=n(5316),j=n(1806),m=n(3460),g=n(9347),p=n(9252),u=n(5795),v=n(1787),b=n(9650),y=n(4882),N=n(5472),f=n(6822),S=n(3612),D=n(6360),I=n(3159),w=n(7260),C=n(3216),k=n(3044),P=n(7762);var F=n(3639),R=n(1702),T=n(9786),$=n(3471),B=n(6240),U=n(344),W=n(579);const L=()=>{const e=(0,C.Zp)(),[r,n]=(0,i.useState)([]),[L,E]=(0,i.useState)(""),[Q,z]=(0,i.useState)(!1),[M,q]=(0,i.useState)(null),[V]=(0,i.useState)("true"===localStorage.getItem("isAdmin")),Y=(0,B.A)(),_=(0,U.A)(Y.breakpoints.down("md"));(0,i.useEffect)((()=>{G()}),[]);const G=async()=>{try{const e="true"===localStorage.getItem("isTestUser"),r=e?S.B:f.db,i=e?"test_shipments":"shipments",t=(0,N.P)((0,N.rJ)(r,i),(0,N.My)("numericId","desc")),s=(await(0,N.GG)(t)).docs.map((e=>({...e.data(),docId:e.id,id:e.data().id})));n(s)}catch(e){console.error("Error fetching records:",e),n([])}},O=r=>{if(r.approverSign)return void alert("Cannot edit an approved record");const n=r.docId;console.log("Editing record with ID:",n),n?e(`/shipping-form?edit=${n}`):alert("Invalid record ID")},H=e=>{q(e),z(!0)},J=e=>{if(e.startsWith("data:application/pdf;base64,")){fetch(e).then((e=>e.blob())).then((e=>{const r=window.URL.createObjectURL(e);window.open(r,"_blank"),window.URL.revokeObjectURL(r)}))}else window.open(e,"_blank")},Z=async e=>{try{const r=await(async e=>{const r=new P.Ay,n=(e,n)=>(r.text(20,n,e),n+10),i=async(e,n)=>{if(e)try{const i=100,t=e;return r.addImage(t,"PNG",20,n,i,30),n+35}catch(i){return console.error("Error adding signature:",i),n+10}return n+10};let t=20;return r.setFontSize(16),r.setFont(void 0,"bold"),t=n("Shipping Record Details",t),t+=5,r.setFontSize(12),r.setFont(void 0,"normal"),t=n(`ID: ${e.id||"N/A"}`,t),t=n(`Shipment Code: ${e.shipmentCode||"N/A"}`,t),t=n(`Shipment Date: ${e.shipmentDate||"N/A"}`,t),t+=5,r.setFont(void 0,"bold"),t=n("Item Details",t),r.setFont(void 0,"normal"),t=n(`Item Number: ${e.itemNo||"N/A"}`,t),t=n(`Item Name: ${e.itemName||"N/A"}`,t),t=n(`Lot Number: ${e.lotNumber||"N/A"}`,t),t+=5,r.setFont(void 0,"bold"),t=n("Quantity Information",t),r.setFont(void 0,"normal"),t=n(`Quantities: ${e.quantities||"N/A"}`,t),t=n(`Remaining Quantity: ${e.remainingQuantity||"N/A"}`,t),t=n(`Unit: ${e.unit||"N/A"}`,t),t+=5,r.setFont(void 0,"bold"),t=n("Additional Details",t),r.setFont(void 0,"normal"),t=n(`Qualified Manufacturer: ${e.qualifiedManufacturer||"N/A"}`,t),t=n(`Vendor: ${e.vendor||"N/A"}`,t),t=n(`Transportation: ${e.transportation||"N/A"}`,t),t=n(`Landing Bill Number: ${e.landingBillNumber||"N/A"}`,t),t=n(`Expiry Date: ${e.expiryDate||"N/A"}`,t),(e.damageToPackaging||e.damageToProduct)&&(t+=5,r.setFont(void 0,"bold"),t=n("Damage Information",t),r.setFont(void 0,"normal"),t=n("Damage to Packaging: "+(e.damageToPackaging?"Yes":"No"),t),t=n("Damage to Product: "+(e.damageToProduct?"Yes":"No"),t),e.damageNotes&&(t=n(`Damage Notes: ${e.damageNotes}`,t))),t>250&&(r.addPage(),t=20),t+=5,r.setFont(void 0,"bold"),t=n("Signatures",t),r.setFont(void 0,"normal"),e.receiverName&&(t=n("Receiver:",t),t=n(`Name: ${e.receiverName}`,t),t=n(`Date: ${e.receiverDate||"N/A"}`,t),e.receiverSign&&(t=await i(e.receiverSign,t)),t+=5),t>250&&(r.addPage(),t=20),e.inspectorName&&(t=n("Inspector:",t),t=n(`Name: ${e.inspectorName}`,t),t=n(`Date: ${e.inspectorDate||"N/A"}`,t),e.inspectorSign&&(t=await i(e.inspectorSign,t)),t+=5),t>250&&(r.addPage(),t=20),e.approverName&&(t=n("Approver:",t),t=n(`Name: ${e.approverName}`,t),t=n(`Date: ${e.approverDate||"N/A"}`,t),e.approverSign&&(t=await i(e.approverSign,t))),r.output("blob")})(e),n=new Blob([r],{type:"application/pdf"}),i=URL.createObjectURL(n);window.open(i,"_blank"),setTimeout((()=>URL.revokeObjectURL(i)),1e3)}catch(r){console.error("Error generating PDF:",r),alert("Error generating PDF. Please try again.")}},K=async r=>{if(V&&window.confirm("Are you sure you want to delete this record? This action cannot be undone."))try{const n="true"===localStorage.getItem("isTestUser")?S.B:f.db,i="true"===localStorage.getItem("isTestUser")?"test_shipments":"shipments";await(0,N.kd)((0,N.H9)(n,i,r.docId)),G(),alert("Record deleted successfully"),e("/dashboard")}catch(n){console.error("Error deleting record:",n),alert("Error deleting record")}},X=r.filter((e=>{const r=e.shipmentCode||"",n=e.itemName||"",i=L.toLowerCase();return r.toString().toLowerCase().includes(i)||n.toString().toLowerCase().includes(i)})),ee=()=>(0,W.jsxs)(x.A,{open:Q,onClose:()=>z(!1),maxWidth:"md",fullWidth:!0,fullScreen:_,children:[(0,W.jsx)(h.A,{sx:{pr:_?6:"inherit",fontSize:_?"1.2rem":"inherit",wordBreak:"break-word"},children:_?"Shipment Details":`Shipping Record Details - ${null===M||void 0===M?void 0:M.shipmentCode}`}),(0,W.jsx)(A.A,{children:M&&(_?(0,W.jsxs)(s.A,{sx:{mt:2},children:[(0,W.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Basic Information"}),(0,W.jsxs)(t.A,{elevation:0,sx:{p:2,mb:3,bgcolor:"#f9f9f9"},children:[(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"ID"}),(0,W.jsx)(a.A,{variant:"body1",children:M.id})]}),(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Shipment Code"}),(0,W.jsx)(a.A,{variant:"body1",children:M.shipmentCode})]}),(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Shipment Date"}),(0,W.jsx)(a.A,{variant:"body1",children:M.shipmentDate})]})]}),(0,W.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Item Details"}),(0,W.jsxs)(t.A,{elevation:0,sx:{p:2,mb:3,bgcolor:"#f9f9f9"},children:[(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Item Number"}),(0,W.jsx)(a.A,{variant:"body1",children:M.itemNo})]}),(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Item Name"}),(0,W.jsx)(a.A,{variant:"body1",children:M.itemName})]}),(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Lot Number"}),(0,W.jsx)(a.A,{variant:"body1",children:M.lotNumber})]})]}),(0,W.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Quantity Information"}),(0,W.jsxs)(t.A,{elevation:0,sx:{p:2,mb:3,bgcolor:"#f9f9f9"},children:[(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Quantities"}),(0,W.jsx)(a.A,{variant:"body1",children:M.quantities})]}),(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Remaining Quantity"}),(0,W.jsx)(a.A,{variant:"body1",children:M.remainingQuantity})]}),(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Unit"}),(0,W.jsx)(a.A,{variant:"body1",children:M.unit})]})]}),(0,W.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Additional Details"}),(0,W.jsxs)(t.A,{elevation:0,sx:{p:2,mb:3,bgcolor:"#f9f9f9"},children:[(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Qualified Manufacturer"}),(0,W.jsx)(a.A,{variant:"body1",children:M.qualifiedManufacturer||"N/A"})]}),(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Vendor"}),(0,W.jsx)(a.A,{variant:"body1",children:M.vendor||"N/A"})]}),(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Transportation"}),(0,W.jsx)(a.A,{variant:"body1",children:M.transportation||"N/A"})]}),(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Landing Bill Number"}),(0,W.jsx)(a.A,{variant:"body1",children:M.landingBillNumber||"N/A"})]}),(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Expiry Date"}),(0,W.jsx)(a.A,{variant:"body1",children:M.expiryDate||"N/A"})]})]}),(M.damageToPackaging||M.damageToProduct)&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Damage Information"}),(0,W.jsxs)(t.A,{elevation:0,sx:{p:2,mb:3,bgcolor:"#f9f9f9"},children:[(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Damage to Packaging"}),(0,W.jsx)(a.A,{variant:"body1",children:M.damageToPackaging?"Yes":"No"})]}),(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Damage to Product"}),(0,W.jsx)(a.A,{variant:"body1",children:M.damageToProduct?"Yes":"No"})]}),M.damageNotes&&(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Damage Notes"}),(0,W.jsx)(a.A,{variant:"body1",children:M.damageNotes})]})]})]}),M.receiverName&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Receiver Details"}),(0,W.jsxs)(t.A,{elevation:0,sx:{p:2,mb:3,bgcolor:"#f9f9f9"},children:[(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Receiver Name"}),(0,W.jsx)(a.A,{variant:"body1",children:M.receiverName})]}),(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Receiver Date"}),(0,W.jsx)(a.A,{variant:"body1",children:M.receiverDate||"N/A"})]}),M.receiverSign&&(0,W.jsxs)(s.A,{children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Receiver Signature"}),(0,W.jsx)(s.A,{sx:{mt:1,border:"1px solid #eaeaea",p:1},children:(0,W.jsx)("img",{src:M.receiverSign,alt:"Receiver Signature",style:{maxWidth:"100%",height:"auto"}})})]})]})]}),M.inspectorName&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Inspector Details"}),(0,W.jsxs)(t.A,{elevation:0,sx:{p:2,mb:3,bgcolor:"#f9f9f9"},children:[(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Inspector Name"}),(0,W.jsx)(a.A,{variant:"body1",children:M.inspectorName})]}),(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Inspector Date"}),(0,W.jsx)(a.A,{variant:"body1",children:M.inspectorDate||"N/A"})]}),M.inspectorSign&&(0,W.jsxs)(s.A,{children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Inspector Signature"}),(0,W.jsx)(s.A,{sx:{mt:1,border:"1px solid #eaeaea",p:1},children:(0,W.jsx)("img",{src:M.inspectorSign,alt:"Inspector Signature",style:{maxWidth:"100%",height:"auto"}})})]})]})]}),M.approverName&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Approver Details"}),(0,W.jsxs)(t.A,{elevation:0,sx:{p:2,mb:3,bgcolor:"#f9f9f9"},children:[(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Approver Name"}),(0,W.jsx)(a.A,{variant:"body1",children:M.approverName})]}),(0,W.jsxs)(s.A,{sx:{mb:2},children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Approver Date"}),(0,W.jsx)(a.A,{variant:"body1",children:M.approverDate||"N/A"})]}),M.approverSign&&(0,W.jsxs)(s.A,{children:[(0,W.jsx)(a.A,{variant:"subtitle2",color:"text.secondary",children:"Approver Signature"}),(0,W.jsx)(s.A,{sx:{mt:1,border:"1px solid #eaeaea",p:1},children:(0,W.jsx)("img",{src:M.approverSign,alt:"Approver Signature",style:{maxWidth:"100%",height:"auto"}})})]})]})]}),M.attachmentUrl&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:"Attachment"}),(0,W.jsx)(t.A,{elevation:0,sx:{p:2,mb:3,bgcolor:"#f9f9f9",display:"flex",justifyContent:"center"},children:(0,W.jsx)(o.A,{variant:"contained",size:"medium",onClick:()=>J(M.attachmentUrl),startIcon:(0,W.jsx)(k.A,{}),children:"View PDF"})})]})]}):(0,W.jsx)(j.A,{children:(0,W.jsxs)(m.A,{children:[(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"ID"})}),(0,W.jsx)(l.A,{children:M.id})]}),(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Shipment Code"})}),(0,W.jsx)(l.A,{children:M.shipmentCode})]}),(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Shipment Date"})}),(0,W.jsx)(l.A,{children:M.shipmentDate})]}),(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Item Number"})}),(0,W.jsx)(l.A,{children:M.itemNo})]}),(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Item Name"})}),(0,W.jsx)(l.A,{children:M.itemName})]}),(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Lot Number"})}),(0,W.jsx)(l.A,{children:M.lotNumber})]}),(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Quantities"})}),(0,W.jsx)(l.A,{children:M.quantities})]}),(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Remaining Quantity"})}),(0,W.jsx)(l.A,{children:M.remainingQuantity})]}),(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Unit"})}),(0,W.jsx)(l.A,{children:M.unit})]}),(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Qualified Manufacturer"})}),(0,W.jsx)(l.A,{children:M.qualifiedManufacturer})]}),(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Vendor"})}),(0,W.jsx)(l.A,{children:M.vendor})]}),(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Transportation"})}),(0,W.jsx)(l.A,{children:M.transportation})]}),(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Landing Bill Number"})}),(0,W.jsx)(l.A,{children:M.landingBillNumber})]}),(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Expiry Date"})}),(0,W.jsx)(l.A,{children:M.expiryDate})]}),(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Damage to Packaging"})}),(0,W.jsx)(l.A,{children:M.damageToPackaging?"Yes":"No"})]}),(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Damage to Product"})}),(0,W.jsx)(l.A,{children:M.damageToProduct?"Yes":"No"})]}),(M.damageToPackaging||M.damageToProduct)&&(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Damage Notes"})}),(0,W.jsx)(l.A,{children:M.damageNotes})]}),M.receiverName&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Receiver Name"})}),(0,W.jsx)(l.A,{children:M.receiverName})]}),(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Receiver Date"})}),(0,W.jsx)(l.A,{children:M.receiverDate})]}),M.receiverSign&&(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Receiver Signature"})}),(0,W.jsx)(l.A,{children:(0,W.jsx)("img",{src:M.receiverSign,alt:"Receiver Signature",style:{maxWidth:"200px"}})})]})]}),M.inspectorName&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Inspector Name"})}),(0,W.jsx)(l.A,{children:M.inspectorName})]}),(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Inspector Date"})}),(0,W.jsx)(l.A,{children:M.inspectorDate})]}),M.inspectorSign&&(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Inspector Signature"})}),(0,W.jsx)(l.A,{children:(0,W.jsx)("img",{src:M.inspectorSign,alt:"Inspector Signature",style:{maxWidth:"200px"}})})]})]}),M.approverName&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Approver Name"})}),(0,W.jsx)(l.A,{children:M.approverName})]}),(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Approver Date"})}),(0,W.jsx)(l.A,{children:M.approverDate})]}),M.approverSign&&(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Approver Signature"})}),(0,W.jsx)(l.A,{children:(0,W.jsx)("img",{src:M.approverSign,alt:"Approver Signature",style:{maxWidth:"200px"}})})]})]}),M.attachmentUrl&&(0,W.jsxs)(c.A,{children:[(0,W.jsx)(l.A,{children:(0,W.jsx)("strong",{children:"Attachment"})}),(0,W.jsx)(l.A,{children:(0,W.jsx)(o.A,{variant:"outlined",size:"small",onClick:()=>J(M.attachmentUrl),children:"View PDF"})})]})]})}))}),(0,W.jsx)(g.A,{children:(0,W.jsx)(o.A,{onClick:()=>z(!1),variant:_?"contained":"text",fullWidth:_,children:"Close"})})]});return(0,W.jsxs)(p.A,{maxWidth:"lg",sx:{mt:4,mb:4},children:[(0,W.jsxs)(s.A,{sx:{display:"flex",flexDirection:_?"column":"row",justifyContent:"space-between",alignItems:_?"stretch":"center",mb:4},children:[(0,W.jsx)(a.A,{variant:"h4",sx:{fontWeight:600,color:"primary.main",mt:2,fontSize:_?"1.75rem":"2.125rem",mb:_?2:0},children:"Shipping Records"}),(0,W.jsxs)(s.A,{sx:{display:"flex",flexDirection:"row",gap:2},children:[(0,W.jsx)(o.A,{variant:"contained",startIcon:(0,W.jsx)(F.A,{}),onClick:()=>e("/dashboard"),sx:{flex:_?1:"inherit"},children:"Home"}),(0,W.jsx)(o.A,{variant:"outlined",color:"primary",startIcon:(0,W.jsx)(R.A,{}),onClick:async()=>{try{"true"===localStorage.getItem("isTestUser")?(await(async()=>{try{const e=(await(0,N.GG)((0,N.rJ)(S.B,"test_shipments"))).docs.map((e=>(0,N.kd)(e.ref)));await Promise.all(e);const r=S.z.currentUser;r&&await r.delete(),console.log("Test data cleanup completed")}catch(e){console.error("Error cleaning up test data:",e)}})(),await(0,T.CI)(S.z)):await(0,T.CI)(f.j2),localStorage.removeItem("isTestUser"),e("/")}catch(r){console.error("Error during logout:",r),localStorage.removeItem("isTestUser"),e("/")}},sx:{flex:_?1:"inherit"},children:"Logout"})]})]}),(0,W.jsx)(u.A,{fullWidth:!0,variant:"outlined",placeholder:"Search by Code or Item Name",value:L,onChange:e=>E(e.target.value),sx:{mb:3},InputProps:{startAdornment:(0,W.jsx)(v.A,{position:"start",children:(0,W.jsx)(D.A,{})})}}),_?(0,W.jsx)(s.A,{children:0===X.length?(0,W.jsx)(a.A,{align:"center",sx:{my:4},children:"No records found"}):X.map((e=>(0,W.jsxs)(t.A,{elevation:2,sx:{p:2,mb:2,border:"1px solid #e0e0e0",position:"relative"},children:[(0,W.jsx)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:(0,W.jsxs)(s.A,{children:[(0,W.jsx)(a.A,{variant:"h6",gutterBottom:!0,children:e.itemName||"No Name"}),(0,W.jsxs)(a.A,{variant:"body2",color:"text.secondary",children:["ID: ",(0,W.jsx)("strong",{children:e.id})," | Code: ",(0,W.jsx)("strong",{children:e.shipmentCode||"N/A"})]}),(0,W.jsxs)(a.A,{variant:"body2",children:["Date: ",(0,W.jsx)("strong",{children:e.shipmentDate||"N/A"})]}),(0,W.jsxs)(a.A,{variant:"body2",sx:{color:e.approverSign?"success.main":e.inspectorSign?"info.main":e.receiverSign?"warning.main":"gray",fontWeight:600,mt:1},children:["Status: ",e.approverSign?"Approved":e.inspectorSign?"Pending Approval":e.receiverSign?"Pending Inspection":"Pending Shipment"]})]})}),(0,W.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-evenly",mt:2,pt:2,borderTop:"1px solid #eaeaea"},children:[(0,W.jsx)(o.A,{startIcon:(0,W.jsx)(I.A,{}),onClick:()=>O(e),disabled:e.approverSign,size:"small",sx:{flex:1,mr:1},children:"Edit"}),(0,W.jsx)(o.A,{startIcon:(0,W.jsx)(w.A,{}),onClick:()=>H(e),size:"small",sx:{flex:1,mr:1},children:"View"}),(0,W.jsx)(o.A,{startIcon:(0,W.jsx)(k.A,{}),onClick:()=>Z(e),size:"small",sx:{flex:1},children:"PDF"}),V&&(0,W.jsx)(o.A,{color:"error",startIcon:(0,W.jsx)($.A,{}),onClick:()=>K(e),size:"small",sx:{flex:1,ml:1},children:"Delete"})]})]},e.id||e.docId)))}):(0,W.jsx)(b.A,{component:t.A,children:(0,W.jsxs)(j.A,{children:[(0,W.jsx)(y.A,{children:(0,W.jsxs)(c.A,{sx:{backgroundColor:"primary.main"},children:[(0,W.jsx)(l.A,{sx:{color:"white",fontWeight:600},children:"ID"}),(0,W.jsx)(l.A,{sx:{color:"white",fontWeight:600},children:"Shipment Code"}),"  ",(0,W.jsx)(l.A,{sx:{color:"white",fontWeight:600},children:"Shipment Date"}),(0,W.jsx)(l.A,{sx:{color:"white",fontWeight:600},children:"Item Name"}),(0,W.jsx)(l.A,{sx:{color:"white",fontWeight:600},children:"Status"}),(0,W.jsx)(l.A,{sx:{color:"white",fontWeight:600},children:"Actions"})]})}),(0,W.jsx)(m.A,{children:X.map((e=>(e=>(0,W.jsxs)(c.A,{sx:{"&:hover":{backgroundColor:"action.hover"}},children:[(0,W.jsx)(l.A,{children:e.id}),(0,W.jsx)(l.A,{children:e.shipmentCode||"N/A"})," ",(0,W.jsx)(l.A,{children:e.shipmentDate||"N/A"}),(0,W.jsx)(l.A,{children:e.itemName||"N/A"}),(0,W.jsx)(l.A,{children:(0,W.jsx)(a.A,{sx:{color:e.approverSign?"success.main":e.inspectorSign?"info.main":e.receiverSign?"warning.main":"gray",fontWeight:500},children:e.approverSign?"Approved":e.inspectorSign?"Pending Approval":e.receiverSign?"Pending Inspection":"Pending Shipment"})}),(0,W.jsxs)(l.A,{children:[(0,W.jsx)(d.A,{color:"primary",onClick:()=>O(e),disabled:e.approverSign,sx:{mr:1},children:(0,W.jsx)(I.A,{})}),(0,W.jsx)(d.A,{color:"secondary",onClick:()=>H(e),sx:{mr:1},children:(0,W.jsx)(w.A,{})}),(0,W.jsx)(d.A,{color:"primary",onClick:()=>Z(e),sx:{mr:1},children:(0,W.jsx)(k.A,{})}),V&&(0,W.jsx)(d.A,{color:"error",onClick:()=>K(e),sx:{mr:1},title:"Delete Record",children:(0,W.jsx)($.A,{})})]})]},e.id||e.docId))(e)))})]})}),(0,W.jsx)(ee,{})]})}}}]);
//# sourceMappingURL=425.950e6ec5.chunk.js.map